Fix performance issues while settings boundary condition