Initial bulk of type checking + setup
