
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Simulating a 1P3S Battery Pack Using the Battery Model &#8212; PyFluent</title>
  
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/ansys-sphinx-theme.css?v=9e79609d" />
    <link rel="stylesheet" type="text/css" href="../../_static/jupyter-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/thebelab.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery.css?v=d2d258e8" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/ansys-sphinx-theme.css?v=9e79609d" />
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.23/css/jquery.dataTables.min.css" />
    <link rel="stylesheet" type="text/css" href="https://www.nerdfonts.com/assets/css/webfont.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- So that users can add custom icons -->
  <script src="../../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />


  <!-- Include desired assets -->
  <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
  

  
    <link href="../../_static/css/breadcrumbs.css" rel="stylesheet" />
  
    <script src="../../_static/documentation_options.js?v=f11183cd"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/thebelab-helper.js"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=49e1bf35"></script>
    <script src="../../_static/toggleprompt.js?v=cec9bd37"></script>
    <script src="https://cdn.datatables.net/1.10.23/js/jquery.dataTables.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'examples/00-fluent/battery_pack';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.16.1';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://fluent.docs.pyansys.com/versions.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = '0.37';
        DOCUMENTATION_OPTIONS.show_version_warning_banner =
            false;
        </script>
    <link rel="icon" href="../../_static/ansys-favicon.png"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Automotive Brake Thermal Analysis" href="brake.html" />
    <link rel="prev" title="Ahmed Body External Aerodynamics Simulation" href="ahmed_body_workflow.html" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="0.37.2" />
  <meta property="og:site_name" content="PyAnsys" />
  <meta name="physics" content="Fluids" />
  <link rel="canonical" href="https://fluent.docs.pyansys.com/version/stable/examples/00-fluent/battery_pack.html" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/pyansys_logo_transparent_black.png" class="logo__image only-light" alt="PyFluent - Home"/>
    <img src="../../_static/pyansys_logo_transparent_white.png" class="logo__image only-dark pst-js-only" alt="PyFluent - Home"/>
  
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">

<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../index.html" title="PyFluent home">Home</a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../getting_started/getting_started_contents.html">
    Getting started
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../user_guide/user_guide_contents.html">
    User guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../api/api_contents.html">
    API reference
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../index.html">
    Examples
  </a>
</li>

            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button"
                data-bs-toggle="dropdown" aria-expanded="false"
                aria-controls="pst-nav-more-links">
                    More
                </button>
                <ul id="pst-nav-more-links" class="dropdown-menu">
                    
<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../contributing/contributing_contents.html">
    Contributing to PyFluent
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../changelog.html">
    Release notes
  </a>
</li>

                </ul>
            </li>
            
  </ul>
</nav>
</div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
      
        <div class="navbar-item">
<div class="search-bar pst-js-only" id="search-bar">
  <form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
    <i class="fa-solid fa-magnifying-glass"></i>
    <input type="search" class="form-control" name="q" placeholder="Search the docs ..."
      aria-label="Search the docs ..." autocomplete="off" autocorrect="off"
      autocapitalize="off" spellcheck="false" />
    <span class="search-button__kbd-shortcut">
      <kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd>
    </span>
  </form>
  <div id="static-search-results" class="static-search-results" style="display:none;" tabindex="0"></div>
</div></div>
      
        <div class="navbar-item">
<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-2"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-2"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-2"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-2">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/ansys/pyfluent" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/ansys/pyfluent/discussions" title="Support" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa fa-comment fa-fw fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Support</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  
  
    <div id="announcement_msg"></div>
<script>
  fetch("announcement.html")
    .then((response) => {
      if (!response.ok) {
        throw new Error(`HTTP error: ${response.status}`);
      }
      return response.text();
    })
    .then(
      (text) => (document.getElementById("announcement_msg").innerHTML = text),
    )
    .catch((error) => console.error(`Fetch problem: ${error.message}`));
</script>
  


  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">

<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../index.html" title="PyFluent home">Home</a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../getting_started/getting_started_contents.html">
    Getting started
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../user_guide/user_guide_contents.html">
    User guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../api/api_contents.html">
    API reference
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../index.html">
    Examples
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../contributing/contributing_contents.html">
    Contributing to PyFluent
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../changelog.html">
    Release notes
  </a>
</li>

  </ul>
</nav>
</div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<div class="search-bar pst-js-only" id="search-bar">
  <form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
    <i class="fa-solid fa-magnifying-glass"></i>
    <input type="search" class="form-control" name="q" placeholder="Search the docs ..."
      aria-label="Search the docs ..." autocomplete="off" autocorrect="off"
      autocapitalize="off" spellcheck="false" />
    <span class="search-button__kbd-shortcut">
      <kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd>
    </span>
  </form>
  <div id="static-search-results" class="static-search-results" style="display:none;" tabindex="0"></div>
</div></div>
        
          <div class="navbar-item">
<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-3"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-3"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-3"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-3">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/ansys/pyfluent" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/ansys/pyfluent/discussions" title="Support" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa fa-comment fa-fw fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Support</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1 current active has-children"><a class="reference internal" href="index.html">Simulation Examples</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="DOE_ML.html">Design of Experiments and Machine Learning model building</a></li>
<li class="toctree-l2"><a class="reference internal" href="Electrolysis_Modeling_workflow.html">Electrolysis Modeling</a></li>
















<li class="toctree-l2"><a class="reference internal" href="Modeling_solidification_workflow.html">Modeling Solidification</a></li>






















<li class="toctree-l2"><a class="reference internal" href="ahmed_body_workflow.html">Ahmed Body External Aerodynamics Simulation</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Simulating a 1P3S Battery Pack Using the Battery Model</a></li>





















<li class="toctree-l2"><a class="reference internal" href="brake.html">Automotive Brake Thermal Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="catalytic_converter_workflow.html">Modeling Flow Through Porous Media - Catalytic Converter</a></li>
<li class="toctree-l2"><a class="reference internal" href="conjugate_heat_transfer.html">Conjugate Heat Transfer</a></li>
<li class="toctree-l2"><a class="reference internal" href="exhaust_system_settings_api.html">Fault-tolerant meshing workflow using settings objects</a></li>



<li class="toctree-l2"><a class="reference internal" href="external_compressible_flow.html">Modeling External Compressible Flow</a></li>



<li class="toctree-l2"><a class="reference internal" href="frozen_rotor_workflow.html">Impeller-Volute simulation using the Frozen Rotor Approach</a></li>
<li class="toctree-l2"><a class="reference internal" href="fsi_1way_workflow.html">Modeling One-Way Fluid-Structure Interaction</a></li>















<li class="toctree-l2"><a class="reference internal" href="lunar_lander_thermal.html">Thermal Model of a Lunar Lander Using the Monte Carlo Radiation Model</a></li>






<li class="toctree-l2"><a class="reference internal" href="mixing_elbow_settings_api.html">Fluent setup and solution using settings objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="mixing_tank_workflow.html">Mixing Tank Workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="modeling_ablation.html">Modeling Ablation</a></li>
<li class="toctree-l2"><a class="reference internal" href="modeling_cavitation.html">Modeling Cavitation</a></li>

<li class="toctree-l2"><a class="reference internal" href="parametric_static_mixer_1.html">Parametric study workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="radiation_headlamp.html">Modeling Radiation in a Headlamp Using the Monte Carlo Method</a></li>



<li class="toctree-l2"><a class="reference internal" href="single_battery_cell_workflow.html">Single Battery Cell Using MSMD Battery Model Simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="species_transport.html">Modeling Species Transport and Gaseous Combustion</a></li>
<li class="toctree-l2"><a class="reference internal" href="steady_vortex.html">Simulation of Steady Vortex in a Stirred Tank</a></li>
<li class="toctree-l2"><a class="reference internal" href="transient_compressible_nozzle_workflow.html">Modeling Transient Compressible Flow</a></li>





















<li class="toctree-l2"><a class="reference internal" href="tyler_sofrin_modes.html">Tyler-Sofrin Compressor Modes Post-Processing</a></li>
</ul>
</details></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">
<nav aria-label="Breadcrumb">
  <ul class="bd-breadcrumbs">
         
    <li class="breadcrumb-item breadcrumb-home">
      <a href="https://docs.pyansys.com/" class="nav-link">PyAnsys</a>
    </li>
     
    <li class="breadcrumb-item">
      <a
        href="../../index.html"
        class="nav-link"
        aria-label="Home"
      >
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
     
    <li class="breadcrumb-item">
      <a href="../index.html" class="nav-link">Examples</a>
    </li>
     
    <li class="breadcrumb-item">
      <a href="index.html" class="nav-link">Simulation Examples</a>
    </li>
      
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Simulating a 1P3S Battery Pack Using the Battery Model</span></li>
    
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p><a class="reference internal" href="#sphx-glr-download-examples-00-fluent-battery-pack-py"><span class="std std-ref">Go to the end</span></a>
to download the full example code.</p>
</div>
<section class="sphx-glr-example-title" id="simulating-a-1p3s-battery-pack-using-the-battery-model">
<span id="battery-pack"></span><span id="sphx-glr-examples-00-fluent-battery-pack-py"></span><h1>Simulating a 1P3S Battery Pack Using the Battery Model<a class="headerlink" href="#simulating-a-1p3s-battery-pack-using-the-battery-model" title="Link to this heading">#</a></h1>
</section>
<section id="objective">
<h1>Objective<a class="headerlink" href="#objective" title="Link to this heading">#</a></h1>
<p>This example demonstrates a complete 1P3S battery pack simulation workflow comprising
one parallel string and three cells in series using the NTGK
(Newman-Tiedemann-Gu-Kim) electrochemical model utilizing PyFluent APIs.
The goal is to model and analyze battery pack behavior under a constant
200 W discharge condition. This includes setting up active and passive zones,
defining dual-path electrical conductivity using User-Defined Scalars (UDS),
and applying convection cooling to simulate heat dissipation. The simulation
aims to monitor key performance indicators such as pack voltage,
maximum temperature, current flow, and heat generation over a 1500 second
transient run, providing insights into thermal and electrical performance
relevant to electric vehicle (EV) and energy storage system (ESS) design.</p>
</section>
<section id="problem-description">
<h1>Problem Description<a class="headerlink" href="#problem-description" title="Link to this heading">#</a></h1>
<p>Simulation of a 1P3S lithium-ion battery pack, consisting of three cells
connected in series and no parallel branches, undergoing a constant 200 W
discharge to represent a high-load condition. Each cell has a
nominal capacity of 14.6 Ah, resulting in a total pack capacity of 14.6 Ah
and a nominal voltage range of 10.8–12.6 V, corresponding to an average cell
voltage of approximately 3.9 V. The discharge C-rate equates to about 1.17C,
and the total energy of roughly 171 Wh means the discharge would last around
51 minutes (3060 seconds). The simulation model includes active zones for the
electrochemical cells and passive zones representing conductive components
such as tabs and busbars, with defined electrical and thermal material properties.
The model also incorporates natural convection cooling with a heat transfer coefficient
of 5 W/m²·K and an ambient temperature of 300 K, allowing for realistic thermal
management analysis.</p>
<img alt="Battery Pack Schematic" class="align-center" src="../../_images/battery_pack_schematic.png" />
</section>
<section id="import-modules">
<h1>Import modules<a class="headerlink" href="#import-modules" title="Link to this heading">#</a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Importing the following classes offers streamlined access to key solver settings,
eliminating the need to manually browse through the full hierarchy of settings APIs structure.</p>
</div>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">ansys.fluent.core</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pyfluent</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ansys.fluent.core</span><span class="w"> </span><span class="kn">import</span> <span class="n">examples</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ansys.fluent.core.solver</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
    <span class="n">Battery</span><span class="p">,</span>
    <span class="n">BoundaryConditions</span><span class="p">,</span>
    <span class="n">CellZoneConditions</span><span class="p">,</span>
    <span class="n">Contour</span><span class="p">,</span>
    <span class="n">Controls</span><span class="p">,</span>
    <span class="n">General</span><span class="p">,</span>
    <span class="n">Graphics</span><span class="p">,</span>
    <span class="n">Initialization</span><span class="p">,</span>
    <span class="n">Materials</span><span class="p">,</span>
    <span class="n">Mesh</span><span class="p">,</span>
    <span class="n">ReportDefinitions</span><span class="p">,</span>
    <span class="n">RunCalculation</span><span class="p">,</span>
    <span class="n">Solution</span><span class="p">,</span>
    <span class="n">Vector</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ansys.fluent.visualization</span><span class="w"> </span><span class="kn">import</span> <span class="n">GraphicsWindow</span><span class="p">,</span> <span class="n">Monitor</span>
</pre></div>
</div>
</section>
<section id="launch-fluent-in-solver-mode">
<h1>Launch Fluent in solver mode<a class="headerlink" href="#launch-fluent-in-solver-mode" title="Link to this heading">#</a></h1>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">solver</span> <span class="o">=</span> <span class="n">pyfluent</span><span class="o">.</span><span class="n">launch_fluent</span><span class="p">(</span>
    <span class="n">precision</span><span class="o">=</span><span class="n">pyfluent</span><span class="o">.</span><span class="n">Precision</span><span class="o">.</span><span class="n">DOUBLE</span><span class="p">,</span>
    <span class="n">mode</span><span class="o">=</span><span class="n">pyfluent</span><span class="o">.</span><span class="n">FluentMode</span><span class="o">.</span><span class="n">SOLVER</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
<section id="read-mesh">
<h1>Read mesh<a class="headerlink" href="#read-mesh" title="Link to this heading">#</a></h1>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">mesh_file</span> <span class="o">=</span> <span class="n">examples</span><span class="o">.</span><span class="n">download_file</span><span class="p">(</span>
    <span class="s2">&quot;1P3S_battery_pack.msh&quot;</span><span class="p">,</span>
    <span class="s2">&quot;pyfluent/battery_pack&quot;</span><span class="p">,</span>
    <span class="n">save_path</span><span class="o">=</span><a href="https://docs.python.org/3/library/os.html#os.getcwd" title="os.getcwd" class="sphx-glr-backref-module-os sphx-glr-backref-type-py-function"><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span></a><span class="p">(),</span>
<span class="p">)</span>

<span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">read_mesh</span><span class="p">(</span><span class="n">file_name</span><span class="o">=</span><span class="n">mesh_file</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="display-mesh">
<h1>Display mesh<a class="headerlink" href="#display-mesh" title="Link to this heading">#</a></h1>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">graphics</span> <span class="o">=</span> <span class="n">Graphics</span><span class="p">(</span><span class="n">solver</span><span class="p">)</span>
<span class="n">mesh</span> <span class="o">=</span> <span class="n">Mesh</span><span class="p">(</span><span class="n">solver</span><span class="p">,</span> <span class="n">new_instance_name</span><span class="o">=</span><span class="s2">&quot;mesh-1&quot;</span><span class="p">)</span>

<span class="n">all_walls</span> <span class="o">=</span> <span class="n">mesh</span><span class="o">.</span><span class="n">surfaces_list</span><span class="o">.</span><span class="n">allowed_values</span><span class="p">()</span>

<span class="n">graphics</span><span class="o">.</span><span class="n">picture</span><span class="o">.</span><span class="n">x_resolution</span> <span class="o">=</span> <span class="mi">650</span>  <span class="c1"># Horizontal resolution for clear visualization</span>
<span class="n">graphics</span><span class="o">.</span><span class="n">picture</span><span class="o">.</span><span class="n">y_resolution</span> <span class="o">=</span> <span class="mi">450</span>  <span class="c1"># Vertical resolution matching typical aspect ratio</span>

<span class="n">mesh</span><span class="o">.</span><span class="n">surfaces_list</span> <span class="o">=</span> <span class="n">all_walls</span>
<span class="n">mesh</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">edges</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">mesh</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>

<span class="n">graphics</span><span class="o">.</span><span class="n">picture</span><span class="o">.</span><span class="n">save_picture</span><span class="p">(</span><span class="n">file_name</span><span class="o">=</span><span class="s2">&quot;battery_pack_1.png&quot;</span><span class="p">)</span>
</pre></div>
</div>
<img alt="Battery Pack Mesh" class="align-center" src="../../_images/battery_pack_1.png" />
</section>
<section id="solver-settings">
<h1>Solver settings<a class="headerlink" href="#solver-settings" title="Link to this heading">#</a></h1>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">solver_general_settings</span> <span class="o">=</span> <span class="n">General</span><span class="p">(</span><span class="n">solver</span><span class="p">)</span>

<span class="n">solver_general_settings</span><span class="o">.</span><span class="n">solver</span><span class="o">.</span><span class="n">time</span> <span class="o">=</span> <span class="s2">&quot;unsteady-1st-order&quot;</span>
</pre></div>
</div>
</section>
<section id="enable-battery-model-ntgk-dcir">
<h1>Enable Battery Model (NTGK/DCIR)<a class="headerlink" href="#enable-battery-model-ntgk-dcir" title="Link to this heading">#</a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Using wildcards (<cite>*</cite>, <cite>?</cite>, <cite>|</cite>, etc.) instead of explicit zone lists makes the setup
more flexible and scalable. For example:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">cell_*</span></code> → selects all zones starting with <code class="docutils literal notranslate"><span class="pre">cell_</span></code> (e.g., <code class="docutils literal notranslate"><span class="pre">cell_1</span></code>, <code class="docutils literal notranslate"><span class="pre">cell_2</span></code>, …)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">*bar*|*tabzone*</span></code> → selects zones containing either <code class="docutils literal notranslate"><span class="pre">bar</span></code> or <code class="docutils literal notranslate"><span class="pre">tabzone</span></code> (e.g., <code class="docutils literal notranslate"><span class="pre">bar1</span></code>, <code class="docutils literal notranslate"><span class="pre">n_tabzone_1</span></code>,…)</p></li>
</ul>
</div>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">battery_model</span> <span class="o">=</span> <span class="n">Battery</span><span class="p">(</span><span class="n">solver</span><span class="p">)</span>

<span class="n">battery_model</span><span class="o">.</span><span class="n">enabled</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">battery_model</span><span class="o">.</span><span class="n">echem_model</span> <span class="o">=</span> <span class="s2">&quot;ntgk/dcir&quot;</span>
<span class="n">battery_model</span><span class="o">.</span><span class="n">eload_condition</span><span class="o">.</span><span class="n">eload_settings</span><span class="o">.</span><span class="n">eload_type</span> <span class="o">=</span> <span class="s2">&quot;specified-system-power&quot;</span>
<span class="n">battery_model</span><span class="o">.</span><span class="n">eload_condition</span><span class="o">.</span><span class="n">eload_settings</span><span class="o">.</span><span class="n">power_value</span> <span class="o">=</span> <span class="mi">200</span>  <span class="c1"># W  (Total pack power)</span>

<span class="c1"># Conductive zones</span>
<span class="n">battery_model</span><span class="o">.</span><span class="n">zone_assignment</span><span class="o">.</span><span class="n">active_zone</span> <span class="o">=</span> <span class="s2">&quot;cell_*&quot;</span>  <span class="c1"># Active cells</span>
<span class="n">battery_model</span><span class="o">.</span><span class="n">zone_assignment</span><span class="o">.</span><span class="n">passive_zone</span> <span class="o">=</span> <span class="s2">&quot;*bar*|*tabzone*&quot;</span>  <span class="c1"># Bars zones + tab zones</span>

<span class="c1"># External electrical contacts</span>
<span class="n">battery_model</span><span class="o">.</span><span class="n">zone_assignment</span><span class="o">.</span><span class="n">negative_tab</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;tab_n&quot;</span><span class="p">]</span>  <span class="c1"># Negative terminal</span>
<span class="n">battery_model</span><span class="o">.</span><span class="n">zone_assignment</span><span class="o">.</span><span class="n">positive_tab</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;tab_p&quot;</span><span class="p">]</span>  <span class="c1"># Positive terminal</span>
</pre></div>
</div>
</section>
<section id="define-materials">
<h1>Define materials<a class="headerlink" href="#define-materials" title="Link to this heading">#</a></h1>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">materials</span> <span class="o">=</span> <span class="n">Materials</span><span class="p">(</span><span class="n">solver</span><span class="p">)</span>

<span class="c1"># Active material (cells): conductivity via UDS-0 and UDS-1</span>
<span class="n">materials</span><span class="o">.</span><span class="n">solid</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="s2">&quot;e_material&quot;</span><span class="p">)</span>

<span class="n">materials</span><span class="o">.</span><span class="n">solid</span><span class="p">[</span><span class="s2">&quot;e_material&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;chemical_formula&quot;</span><span class="p">:</span> <span class="s2">&quot;e&quot;</span><span class="p">,</span>
    <span class="s2">&quot;thermal_conductivity&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="mi">20</span><span class="p">},</span>  <span class="c1"># W/(m·K)</span>
    <span class="s2">&quot;uds_diffusivity&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;defined-per-uds&quot;</span><span class="p">,</span>
        <span class="s2">&quot;uds_diffusivities&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;uds-0&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="mi">1000000</span><span class="p">},</span>  <span class="c1"># S/m  (Electronic conductivity)</span>
            <span class="s2">&quot;uds-1&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="mi">1000000</span><span class="p">},</span>  <span class="c1"># S/m  (Ionic conductivity)</span>
        <span class="p">},</span>
    <span class="p">},</span>
<span class="p">}</span>

<span class="c1"># Passive material (busbars &amp; tabs): high constant conductivity</span>
<span class="n">materials</span><span class="o">.</span><span class="n">solid</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="s2">&quot;busbar_material&quot;</span><span class="p">)</span>

<span class="n">materials</span><span class="o">.</span><span class="n">solid</span><span class="p">[</span><span class="s2">&quot;busbar_material&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;chemical_formula&quot;</span><span class="p">:</span> <span class="s2">&quot;bus&quot;</span><span class="p">,</span>
    <span class="s2">&quot;uds_diffusivity&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;value&quot;</span><span class="p">,</span>
        <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="mf">3.541e7</span><span class="p">,</span>  <span class="c1"># S/m  (Copper-like conductivity)</span>
    <span class="p">},</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="assign-materials-to-cell-zones">
<h1>Assign materials to cell zones<a class="headerlink" href="#assign-materials-to-cell-zones" title="Link to this heading">#</a></h1>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">cell_zone_conditions</span> <span class="o">=</span> <span class="n">CellZoneConditions</span><span class="p">(</span><span class="n">solver</span><span class="p">)</span>

<span class="c1"># Assign e_material to cell_1</span>
<span class="n">cell_zone_conditions</span><span class="o">.</span><span class="n">solid</span><span class="p">[</span><span class="s2">&quot;cell_1&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;general&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;material&quot;</span><span class="p">:</span> <span class="s2">&quot;e_material&quot;</span><span class="p">}}</span>

<span class="c1"># Copy to cell_2 and cell_3</span>
<span class="n">cell_zone_conditions</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">from_</span><span class="o">=</span><span class="s2">&quot;cell_1&quot;</span><span class="p">,</span> <span class="n">to</span><span class="o">=</span><span class="s2">&quot;cell_*&quot;</span><span class="p">)</span>

<span class="c1"># Assign busbar_material to bar1</span>
<span class="n">cell_zone_conditions</span><span class="o">.</span><span class="n">solid</span><span class="p">[</span><span class="s2">&quot;bar1&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;general&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;material&quot;</span><span class="p">:</span> <span class="s2">&quot;busbar_material&quot;</span><span class="p">}}</span>

<span class="c1"># Copy to all passive zones</span>
<span class="n">cell_zone_conditions</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">from_</span><span class="o">=</span><span class="s2">&quot;bar1&quot;</span><span class="p">,</span> <span class="n">to</span><span class="o">=</span><span class="s2">&quot;*bar*|*tabzone*&quot;</span><span class="p">)</span>
<span class="c1"># &#39;*bar*&#39; matches any zone containing &#39;bar&#39;,</span>
<span class="c1"># &#39;|*tabzone*&#39; matches any zone containing &#39;tabzone&#39; → OR logic</span>
</pre></div>
</div>
</section>
<section id="boundary-conditions">
<h1>Boundary conditions<a class="headerlink" href="#boundary-conditions" title="Link to this heading">#</a></h1>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">conditions</span> <span class="o">=</span> <span class="n">BoundaryConditions</span><span class="p">(</span><span class="n">solver</span><span class="p">)</span>

<span class="c1"># Convection on wall-cell_1</span>
<span class="n">conditions</span><span class="o">.</span><span class="n">wall</span><span class="p">[</span><span class="s2">&quot;wall-cell_1&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;thermal&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;thermal_condition&quot;</span><span class="p">:</span> <span class="s2">&quot;Convection&quot;</span><span class="p">,</span>
        <span class="s2">&quot;heat_transfer_coeff&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">},</span>  <span class="c1"># W/(m²·K)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1"># Copy to all other walls (tabs, busbars, cells)</span>
<span class="n">conditions</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">from_</span><span class="o">=</span><span class="s2">&quot;wall-cell_1&quot;</span><span class="p">,</span> <span class="n">to</span><span class="o">=</span><span class="s2">&quot;wall*&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="define-solution-controls-and-monitors">
<h1>Define solution controls and monitors<a class="headerlink" href="#define-solution-controls-and-monitors" title="Link to this heading">#</a></h1>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">controls</span> <span class="o">=</span> <span class="n">Controls</span><span class="p">(</span><span class="n">solver</span><span class="p">)</span>

<span class="c1"># Disable flow and turbulence equations</span>
<span class="n">controls</span><span class="o">.</span><span class="n">equations</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;flow&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
    <span class="s2">&quot;kw&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">solution</span> <span class="o">=</span> <span class="n">Solution</span><span class="p">(</span><span class="n">solver</span><span class="p">)</span>

<span class="n">solution</span><span class="o">.</span><span class="n">monitor</span><span class="o">.</span><span class="n">residual</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">criterion_type</span> <span class="o">=</span> <span class="p">(</span>
    <span class="s2">&quot;none&quot;</span>  <span class="c1"># No automatic convergence check</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
<section id="define-report-definitions">
<h1>Define report definitions<a class="headerlink" href="#define-report-definitions" title="Link to this heading">#</a></h1>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">definitions</span> <span class="o">=</span> <span class="n">ReportDefinitions</span><span class="p">(</span><span class="n">solver</span><span class="p">)</span>

<span class="c1"># Surface report: voltage at positive tab (area-weighted average)</span>
<span class="n">definitions</span><span class="o">.</span><span class="n">surface</span><span class="p">[</span><span class="s2">&quot;voltage_surface_areaavg&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;report_type&quot;</span><span class="p">:</span> <span class="s2">&quot;surface-areaavg&quot;</span><span class="p">,</span>
    <span class="s2">&quot;field&quot;</span><span class="p">:</span> <span class="s2">&quot;passive-zone-potential&quot;</span><span class="p">,</span>
    <span class="s2">&quot;surface_names&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;tab_p&quot;</span><span class="p">],</span>
    <span class="s2">&quot;create_report_file&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
    <span class="s2">&quot;create_report_plot&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">}</span>

<span class="c1"># Format plot axes</span>
<span class="n">report_plot</span> <span class="o">=</span> <span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">monitor</span><span class="o">.</span><span class="n">report_plots</span><span class="p">[</span>
    <span class="s2">&quot;voltage_surface_areaavg-rplot&quot;</span>
<span class="p">]</span>
<span class="n">report_plot</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">x</span><span class="o">.</span><span class="n">number_format</span><span class="o">.</span><span class="n">precision</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># Integer time steps</span>
<span class="n">report_plot</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">y</span><span class="o">.</span><span class="n">number_format</span><span class="o">.</span><span class="n">precision</span> <span class="o">=</span> <span class="mi">2</span>  <span class="c1"># 2 decimal places for voltage</span>

<span class="c1"># Volume report: maximum temperature in all cell zones</span>
<span class="n">definitions</span><span class="o">.</span><span class="n">volume</span><span class="p">[</span><span class="s2">&quot;volume_max_temp&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;report_type&quot;</span><span class="p">:</span> <span class="s2">&quot;volume-max&quot;</span><span class="p">,</span>
    <span class="s2">&quot;field&quot;</span><span class="p">:</span> <span class="s2">&quot;temperature&quot;</span><span class="p">,</span>
    <span class="s2">&quot;cell_zones&quot;</span><span class="p">:</span> <span class="s2">&quot;*cell|*bar*|*tabzone*&quot;</span><span class="p">,</span>
    <span class="s2">&quot;create_report_file&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
    <span class="s2">&quot;create_report_plot&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">}</span>

<span class="c1"># Format plot axes</span>
<span class="n">report_plot_1</span> <span class="o">=</span> <span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">monitor</span><span class="o">.</span><span class="n">report_plots</span><span class="p">[</span><span class="s2">&quot;volume_max_temp-rplot&quot;</span><span class="p">]</span>
<span class="n">report_plot_1</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">x</span><span class="o">.</span><span class="n">number_format</span><span class="o">.</span><span class="n">precision</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">report_plot_1</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">y</span><span class="o">.</span><span class="n">number_format</span><span class="o">.</span><span class="n">precision</span> <span class="o">=</span> <span class="mi">2</span>
</pre></div>
</div>
</section>
<section id="initialize-solution">
<h1>Initialize solution<a class="headerlink" href="#initialize-solution" title="Link to this heading">#</a></h1>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">initialize</span> <span class="o">=</span> <span class="n">Initialization</span><span class="p">(</span><span class="n">solver</span><span class="p">)</span>
<span class="n">initialize</span><span class="o">.</span><span class="n">standard_initialize</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="transient-controls">
<h1>Transient controls<a class="headerlink" href="#transient-controls" title="Link to this heading">#</a></h1>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">Transient_controls</span> <span class="o">=</span> <span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">run_calculation</span><span class="o">.</span><span class="n">transient_controls</span>

<span class="n">Transient_controls</span><span class="o">.</span><span class="n">time_step_count</span> <span class="o">=</span> <span class="mi">50</span>  <span class="c1"># Number of time steps</span>
<span class="n">Transient_controls</span><span class="o">.</span><span class="n">time_step_size</span> <span class="o">=</span> <span class="mi">30</span>  <span class="c1"># s  (30 s per step)</span>

<span class="n">calculation</span> <span class="o">=</span> <span class="n">RunCalculation</span><span class="p">(</span><span class="n">solver</span><span class="p">)</span>
<span class="n">calculation</span><span class="o">.</span><span class="n">calculate</span><span class="p">()</span>  <span class="c1"># Run transient simulation</span>
</pre></div>
</div>
</section>
<section id="post-processing">
<h1>Post-processing<a class="headerlink" href="#post-processing" title="Link to this heading">#</a></h1>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Current density vector plot</span>
<span class="n">vector</span> <span class="o">=</span> <span class="n">Vector</span><span class="p">(</span><span class="n">solver</span><span class="p">,</span> <span class="n">new_instance_name</span><span class="o">=</span><span class="s2">&quot;current-magnitude-vector&quot;</span><span class="p">)</span>

<span class="n">vector</span><span class="o">.</span><span class="n">vector_field</span> <span class="o">=</span> <span class="s2">&quot;current-density-j&quot;</span>  <span class="c1"># A/m²  (Current density vector)</span>
<span class="n">vector</span><span class="o">.</span><span class="n">field</span> <span class="o">=</span> <span class="s2">&quot;current-magnitude&quot;</span>  <span class="c1"># A/m²  (Magnitude for coloring)</span>
<span class="n">vector</span><span class="o">.</span><span class="n">surfaces_list</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;tab_n&quot;</span><span class="p">,</span> <span class="s2">&quot;tab_p&quot;</span><span class="p">,</span> <span class="s2">&quot;wall*&quot;</span><span class="p">]</span>
<span class="n">vector</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">vector_style</span> <span class="o">=</span> <span class="s2">&quot;arrow&quot;</span>
<span class="n">vector</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">scale</span> <span class="o">=</span> <span class="mf">0.03</span>  <span class="c1"># Scale factor for visibility</span>
<span class="n">vector</span><span class="o">.</span><span class="n">vector_opt</span><span class="o">.</span><span class="n">fixed_length</span> <span class="o">=</span> <span class="kc">True</span>  <span class="c1"># Uniform arrow length</span>
<span class="n">vector</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>

<span class="n">graphics</span><span class="o">.</span><span class="n">views</span><span class="o">.</span><span class="n">restore_view</span><span class="p">(</span><span class="n">view_name</span><span class="o">=</span><span class="s2">&quot;isometric&quot;</span><span class="p">)</span>
<span class="n">graphics</span><span class="o">.</span><span class="n">picture</span><span class="o">.</span><span class="n">save_picture</span><span class="p">(</span><span class="n">file_name</span><span class="o">=</span><span class="s2">&quot;battery_pack_2.png&quot;</span><span class="p">)</span>
</pre></div>
</div>
<img alt="Current density vector plot" class="align-center" src="../../_images/battery_pack_2.png" />
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Temperature contour</span>
<span class="n">temp_contour</span> <span class="o">=</span> <span class="n">Contour</span><span class="p">(</span><span class="n">solver</span><span class="p">,</span> <span class="n">new_instance_name</span><span class="o">=</span><span class="s2">&quot;temp_contour&quot;</span><span class="p">)</span>

<span class="n">temp_contour</span><span class="o">.</span><span class="n">field</span> <span class="o">=</span> <span class="s2">&quot;temperature&quot;</span>  <span class="c1"># K</span>
<span class="n">temp_contour</span><span class="o">.</span><span class="n">surfaces_list</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;tab_n&quot;</span><span class="p">,</span> <span class="s2">&quot;tab_p&quot;</span><span class="p">,</span> <span class="s2">&quot;wall*&quot;</span><span class="p">]</span>
<span class="n">temp_contour</span><span class="o">.</span><span class="n">colorings</span><span class="o">.</span><span class="n">banded</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">temp_contour</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>

<span class="n">graphics</span><span class="o">.</span><span class="n">views</span><span class="o">.</span><span class="n">restore_view</span><span class="p">(</span><span class="n">view_name</span><span class="o">=</span><span class="s2">&quot;isometric&quot;</span><span class="p">)</span>
<span class="n">graphics</span><span class="o">.</span><span class="n">picture</span><span class="o">.</span><span class="n">save_picture</span><span class="p">(</span><span class="n">file_name</span><span class="o">=</span><span class="s2">&quot;battery_pack_3.png&quot;</span><span class="p">)</span>
</pre></div>
</div>
<img alt="Temperature contour" class="align-center" src="../../_images/battery_pack_3.png" />
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Joule heat source contour</span>
<span class="n">joule_contour</span> <span class="o">=</span> <span class="n">Contour</span><span class="p">(</span><span class="n">solver</span><span class="p">,</span> <span class="n">new_instance_name</span><span class="o">=</span><span class="s2">&quot;joule_heating_contour&quot;</span><span class="p">)</span>

<span class="n">joule_contour</span><span class="o">.</span><span class="n">field</span> <span class="o">=</span> <span class="s2">&quot;battery-joule-heat-source&quot;</span>  <span class="c1"># W/m³</span>
<span class="n">joule_contour</span><span class="o">.</span><span class="n">surfaces_list</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;tab_n&quot;</span><span class="p">,</span> <span class="s2">&quot;tab_p&quot;</span><span class="p">,</span> <span class="s2">&quot;wall*&quot;</span><span class="p">]</span>
<span class="n">joule_contour</span><span class="o">.</span><span class="n">colorings</span><span class="o">.</span><span class="n">banded</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">joule_contour</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>

<span class="n">graphics</span><span class="o">.</span><span class="n">views</span><span class="o">.</span><span class="n">restore_view</span><span class="p">(</span><span class="n">view_name</span><span class="o">=</span><span class="s2">&quot;isometric&quot;</span><span class="p">)</span>
<span class="n">graphics</span><span class="o">.</span><span class="n">picture</span><span class="o">.</span><span class="n">save_picture</span><span class="p">(</span><span class="n">file_name</span><span class="o">=</span><span class="s2">&quot;battery_pack_4.png&quot;</span><span class="p">)</span>
</pre></div>
</div>
<img alt="Joule heat source contour" class="align-center" src="../../_images/battery_pack_4.png" />
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Total heat source contour</span>
<span class="n">total_heat_contour</span> <span class="o">=</span> <span class="n">Contour</span><span class="p">(</span><span class="n">solver</span><span class="p">,</span> <span class="n">new_instance_name</span><span class="o">=</span><span class="s2">&quot;total_heating_contour&quot;</span><span class="p">)</span>

<span class="n">total_heat_contour</span><span class="o">.</span><span class="n">field</span> <span class="o">=</span> <span class="s2">&quot;total-heat-source&quot;</span>  <span class="c1"># W/m³  (Joule + reaction heat)</span>
<span class="n">total_heat_contour</span><span class="o">.</span><span class="n">surfaces_list</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;tab_n&quot;</span><span class="p">,</span> <span class="s2">&quot;tab_p&quot;</span><span class="p">,</span> <span class="s2">&quot;wall*&quot;</span><span class="p">]</span>
<span class="n">total_heat_contour</span><span class="o">.</span><span class="n">colorings</span><span class="o">.</span><span class="n">banded</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">total_heat_contour</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>

<span class="n">graphics</span><span class="o">.</span><span class="n">views</span><span class="o">.</span><span class="n">restore_view</span><span class="p">(</span><span class="n">view_name</span><span class="o">=</span><span class="s2">&quot;isometric&quot;</span><span class="p">)</span>
<span class="n">graphics</span><span class="o">.</span><span class="n">picture</span><span class="o">.</span><span class="n">save_picture</span><span class="p">(</span><span class="n">file_name</span><span class="o">=</span><span class="s2">&quot;battery_pack_5.png&quot;</span><span class="p">)</span>
</pre></div>
</div>
<img alt="Total heat source contour" class="align-center" src="../../_images/battery_pack_5.png" />
</section>
<section id="display-monitor-plots">
<h1>Display monitor plots<a class="headerlink" href="#display-monitor-plots" title="Link to this heading">#</a></h1>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">plot_window</span> <span class="o">=</span> <span class="n">GraphicsWindow</span><span class="p">(</span><span class="n">solver</span><span class="p">)</span>

<span class="n">voltage_rplot</span> <span class="o">=</span> <span class="n">Monitor</span><span class="p">(</span><span class="n">solver</span><span class="p">,</span> <span class="n">monitor_set_name</span><span class="o">=</span><span class="s2">&quot;voltage_surface_areaavg-rplot&quot;</span><span class="p">)</span>
<span class="n">plot_window</span><span class="o">.</span><span class="n">add_plot</span><span class="p">(</span><span class="n">voltage_rplot</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>

<span class="n">temp_rplot</span> <span class="o">=</span> <span class="n">Monitor</span><span class="p">(</span><span class="n">solver</span><span class="p">,</span> <span class="n">monitor_set_name</span><span class="o">=</span><span class="s2">&quot;volume_max_temp-rplot&quot;</span><span class="p">)</span>
<span class="n">plot_window</span><span class="o">.</span><span class="n">add_plot</span><span class="p">(</span><span class="n">temp_rplot</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>

<span class="n">plot_window</span><span class="o">.</span><span class="n">renderer</span> <span class="o">=</span> <span class="s2">&quot;matplotlib&quot;</span>
<span class="n">plot_window</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<img alt="Temperature and voltage Monitor Plot" class="align-center" src="../../_images/battery_pack_8.png" />
</section>
<section id="save-case-and-data">
<h1>Save case and data<a class="headerlink" href="#save-case-and-data" title="Link to this heading">#</a></h1>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">write_case_data</span><span class="p">(</span><span class="n">file_name</span><span class="o">=</span><span class="s2">&quot;1P3S_Battery_Pack&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="close-fluent">
<h1>Close Fluent<a class="headerlink" href="#close-fluent" title="Link to this heading">#</a></h1>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">solver</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="summary">
<h1>Summary<a class="headerlink" href="#summary" title="Link to this heading">#</a></h1>
<p>This example provides a complete and reproducible PyFluent workflow
for simulating a multi-cell battery pack using the Battery Model with
the NTGK sub-model. It demonstrates how to set up active and passive
zones, apply constant power discharge, use UDS-based dual-path
conductivity, and monitor voltage and temperature behavior during
operation. It serves as a template for battery pack analysis,
applicable to designs ranging from small modules to full EV packs.</p>
</section>
<section id="references">
<h1>References:<a class="headerlink" href="#references" title="Link to this heading">#</a></h1>
<p>[1] Simulating a 1P3S Battery Pack Using the Battery Model, <a class="reference external" href="https://ansyshelp.ansys.com/public/account/secured?returnurl=/Views/Secured/corp/v252/en/flu_tg/flu_bat_tutorial_pack.html">Ansys Fluent documentation​</a>.</p>
<div class="sphx-glr-footer sphx-glr-footer-example docutils container" id="sphx-glr-download-examples-00-fluent-battery-pack-py">
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/f93bfcbefaed516c5295e2549ce386f3/battery_pack.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">battery_pack.ipynb</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/5d5cf8bd64b92adeb25f806e3b59373d/battery_pack.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">battery_pack.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-zip docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/9d832cd49d4560ed667c8e52df949acb/battery_pack.zip"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">zipped:</span> <span class="pre">battery_pack.zip</span></code></a></p>
</div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.github.io">Gallery generated by Sphinx-Gallery</a></p>
</section>


                </article>
              
              
              
              
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Simulating a 1P3S Battery Pack Using the Battery Model</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#objective">Objective</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#problem-description">Problem Description</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#import-modules">Import modules</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#launch-fluent-in-solver-mode">Launch Fluent in solver mode</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#read-mesh">Read mesh</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#display-mesh">Display mesh</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#solver-settings">Solver settings</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#enable-battery-model-ntgk-dcir">Enable Battery Model (NTGK/DCIR)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#define-materials">Define materials</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#assign-materials-to-cell-zones">Assign materials to cell zones</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#boundary-conditions">Boundary conditions</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#define-solution-controls-and-monitors">Define solution controls and monitors</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#define-report-definitions">Define report definitions</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#initialize-solution">Initialize solution</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#transient-controls">Transient controls</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#post-processing">Post-processing</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#display-monitor-plots">Display monitor plots</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#save-case-and-data">Save case and data</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#close-fluent">Close Fluent</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#summary">Summary</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#references">References:</a></li>
</ul>

  </nav></div>

  <div class="sidebar-secondary-item">
<!-- If there is no fix edit button function, use the PyData edit-this-button-->
</div>

  <div class="sidebar-secondary-item">
  <div role="note" aria-label="source link">
    <ul class="this-page-menu">
      <li><a href="../../_sources/examples/00-fluent/battery_pack.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>


  <!-- Include desired assets -->
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.7/require.min.js"></script>

<script>
// Passing the search options to the search.js file
const SEARCH_OPTIONS = JSON.parse('{"keys": ["title", "text", "objectID"], "limit": 10, "threshold": 0.2}');
const SEARCH_FILE = "../../_static/search.json";
const ADVANCE_SEARCH_PATH = "../../search.html";
const EXTRA_SOURCES = JSON.parse('""');
</script>


<script src="../../_static/js/search.js"></script>

  
  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright (c) 2026 ANSYS, Inc. All rights reserved.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.1.3.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item"><p class="theme-version">
  Built with the
  <a href="https://sphinxdocs.ansys.com/version/stable/index.html"
    >Ansys Sphinx Theme</a
  >
  1.6.3. <br />Last updated on
  <span id="ast_build_date"></span>
</p>
<script>
  var options = { day: "numeric", month: "long", year: "numeric" };
  var ast_lastModifiedDate = new Date(document.lastModified);
  var ast_build_date = ast_lastModifiedDate.toLocaleDateString("en-US", options);
  document.getElementById("ast_build_date").innerHTML = ast_build_date;
</script></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>