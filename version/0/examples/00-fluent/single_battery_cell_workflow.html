
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Single Battery Cell Using MSMD Battery Model Simulation &#8212; PyFluent</title>
  
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/ansys-sphinx-theme.css?v=9e79609d" />
    <link rel="stylesheet" type="text/css" href="../../_static/jupyter-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/thebelab.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery.css?v=d2d258e8" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/ansys-sphinx-theme.css?v=9e79609d" />
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.23/css/jquery.dataTables.min.css" />
    <link rel="stylesheet" type="text/css" href="https://www.nerdfonts.com/assets/css/webfont.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- So that users can add custom icons -->
  <script src="../../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />


  <!-- Include desired assets -->
  <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
  

  
    <link href="../../_static/css/breadcrumbs.css" rel="stylesheet" />
  
    <script src="../../_static/documentation_options.js?v=78e06d40"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/thebelab-helper.js"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=49e1bf35"></script>
    <script src="../../_static/toggleprompt.js?v=cec9bd37"></script>
    <script src="https://cdn.datatables.net/1.10.23/js/jquery.dataTables.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'examples/00-fluent/single_battery_cell_workflow';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.16.1';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://fluent.docs.pyansys.com/versions.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = '0.37';
        DOCUMENTATION_OPTIONS.show_version_warning_banner =
            false;
        </script>
    <link rel="icon" href="../../_static/ansys-favicon.png"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Modeling Species Transport and Gaseous Combustion" href="species_transport.html" />
    <link rel="prev" title="Modeling Radiation in a Headlamp Using the Monte Carlo Method" href="radiation_headlamp.html" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="0.37.0" />
  <meta property="og:site_name" content="PyAnsys" />
  <meta name="physics" content="Fluids" />
  <link rel="canonical" href="https://fluent.docs.pyansys.com/version/stable/examples/00-fluent/single_battery_cell_workflow.html" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/pyansys_logo_transparent_black.png" class="logo__image only-light" alt="PyFluent - Home"/>
    <img src="../../_static/pyansys_logo_transparent_white.png" class="logo__image only-dark pst-js-only" alt="PyFluent - Home"/>
  
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">

<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../index.html" title="PyFluent home">Home</a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../getting_started/getting_started_contents.html">
    Getting started
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../user_guide/user_guide_contents.html">
    User guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../api/api_contents.html">
    API reference
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../index.html">
    Examples
  </a>
</li>

            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button"
                data-bs-toggle="dropdown" aria-expanded="false"
                aria-controls="pst-nav-more-links">
                    More
                </button>
                <ul id="pst-nav-more-links" class="dropdown-menu">
                    
<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../contributing/contributing_contents.html">
    Contributing to PyFluent
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../changelog.html">
    Release notes
  </a>
</li>

                </ul>
            </li>
            
  </ul>
</nav>
</div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
      
        <div class="navbar-item">
<div class="search-bar pst-js-only" id="search-bar">
  <form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
    <i class="fa-solid fa-magnifying-glass"></i>
    <input type="search" class="form-control" name="q" placeholder="Search the docs ..."
      aria-label="Search the docs ..." autocomplete="off" autocorrect="off"
      autocapitalize="off" spellcheck="false" />
    <span class="search-button__kbd-shortcut">
      <kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd>
    </span>
  </form>
  <div id="static-search-results" class="static-search-results" style="display:none;" tabindex="0"></div>
</div></div>
      
        <div class="navbar-item">
<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-2"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-2"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-2"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-2">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/ansys/pyfluent" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/ansys/pyfluent/discussions" title="Support" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa fa-comment fa-fw fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Support</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  
  
    <div id="announcement_msg"></div>
<script>
  fetch("announcement.html")
    .then((response) => {
      if (!response.ok) {
        throw new Error(`HTTP error: ${response.status}`);
      }
      return response.text();
    })
    .then(
      (text) => (document.getElementById("announcement_msg").innerHTML = text),
    )
    .catch((error) => console.error(`Fetch problem: ${error.message}`));
</script>
  


  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">

<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../index.html" title="PyFluent home">Home</a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../getting_started/getting_started_contents.html">
    Getting started
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../user_guide/user_guide_contents.html">
    User guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../api/api_contents.html">
    API reference
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../index.html">
    Examples
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../contributing/contributing_contents.html">
    Contributing to PyFluent
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../changelog.html">
    Release notes
  </a>
</li>

  </ul>
</nav>
</div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<div class="search-bar pst-js-only" id="search-bar">
  <form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
    <i class="fa-solid fa-magnifying-glass"></i>
    <input type="search" class="form-control" name="q" placeholder="Search the docs ..."
      aria-label="Search the docs ..." autocomplete="off" autocorrect="off"
      autocapitalize="off" spellcheck="false" />
    <span class="search-button__kbd-shortcut">
      <kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd>
    </span>
  </form>
  <div id="static-search-results" class="static-search-results" style="display:none;" tabindex="0"></div>
</div></div>
        
          <div class="navbar-item">
<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-3"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-3"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-3"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-3">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/ansys/pyfluent" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/ansys/pyfluent/discussions" title="Support" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa fa-comment fa-fw fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Support</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1 current active has-children"><a class="reference internal" href="index.html">Simulation Examples</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="DOE_ML.html">Design of Experiments and Machine Learning model building</a></li>
<li class="toctree-l2"><a class="reference internal" href="Electrolysis_Modeling_workflow.html">Electrolysis Modeling</a></li>
















<li class="toctree-l2"><a class="reference internal" href="Modeling_solidification_workflow.html">Modeling Solidification</a></li>






















<li class="toctree-l2"><a class="reference internal" href="ahmed_body_workflow.html">Ahmed Body External Aerodynamics Simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="battery_pack.html">Simulating a 1P3S Battery Pack Using the Battery Model</a></li>





















<li class="toctree-l2"><a class="reference internal" href="brake.html">Automotive Brake Thermal Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="catalytic_converter_workflow.html">Modeling Flow Through Porous Media - Catalytic Converter</a></li>
<li class="toctree-l2"><a class="reference internal" href="conjugate_heat_transfer.html">Conjugate Heat Transfer</a></li>
<li class="toctree-l2"><a class="reference internal" href="exhaust_system_settings_api.html">Fault-tolerant meshing workflow using settings objects</a></li>



<li class="toctree-l2"><a class="reference internal" href="external_compressible_flow.html">Modeling External Compressible Flow</a></li>



<li class="toctree-l2"><a class="reference internal" href="frozen_rotor_workflow.html">Impeller-Volute simulation using the Frozen Rotor Approach</a></li>
<li class="toctree-l2"><a class="reference internal" href="fsi_1way_workflow.html">Modeling One-Way Fluid-Structure Interaction</a></li>















<li class="toctree-l2"><a class="reference internal" href="lunar_lander_thermal.html">Thermal Model of a Lunar Lander Using the Monte Carlo Radiation Model</a></li>






<li class="toctree-l2"><a class="reference internal" href="mixing_elbow_settings_api.html">Fluent setup and solution using settings objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="mixing_tank_workflow.html">Mixing Tank Workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="modeling_ablation.html">Modeling Ablation</a></li>
<li class="toctree-l2"><a class="reference internal" href="modeling_cavitation.html">Modeling Cavitation</a></li>

<li class="toctree-l2"><a class="reference internal" href="parametric_static_mixer_1.html">Parametric study workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="radiation_headlamp.html">Modeling Radiation in a Headlamp Using the Monte Carlo Method</a></li>



<li class="toctree-l2 current active"><a class="current reference internal" href="#">Single Battery Cell Using MSMD Battery Model Simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="species_transport.html">Modeling Species Transport and Gaseous Combustion</a></li>
<li class="toctree-l2"><a class="reference internal" href="steady_vortex.html">Simulation of Steady Vortex in a Stirred Tank</a></li>
<li class="toctree-l2"><a class="reference internal" href="transient_compressible_nozzle_workflow.html">Modeling Transient Compressible Flow</a></li>





















<li class="toctree-l2"><a class="reference internal" href="tyler_sofrin_modes.html">Tyler-Sofrin Compressor Modes Post-Processing</a></li>
</ul>
</details></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">
<nav aria-label="Breadcrumb">
  <ul class="bd-breadcrumbs">
         
    <li class="breadcrumb-item breadcrumb-home">
      <a href="https://docs.pyansys.com/" class="nav-link">PyAnsys</a>
    </li>
     
    <li class="breadcrumb-item">
      <a
        href="../../index.html"
        class="nav-link"
        aria-label="Home"
      >
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
     
    <li class="breadcrumb-item">
      <a href="../index.html" class="nav-link">Examples</a>
    </li>
     
    <li class="breadcrumb-item">
      <a href="index.html" class="nav-link">Simulation Examples</a>
    </li>
      
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Single Battery Cell Using MSMD Battery Model Simulation</span></li>
    
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p><a class="reference internal" href="#sphx-glr-download-examples-00-fluent-single-battery-cell-workflow-py"><span class="std std-ref">Go to the end</span></a>
to download the full example code.</p>
</div>
<section class="sphx-glr-example-title" id="single-battery-cell-using-msmd-battery-model-simulation">
<span id="single-battery-cell-simulation"></span><span id="sphx-glr-examples-00-fluent-single-battery-cell-workflow-py"></span><h1>Single Battery Cell Using MSMD Battery Model Simulation<a class="headerlink" href="#single-battery-cell-using-msmd-battery-model-simulation" title="Link to this heading">#</a></h1>
<section id="problem-description">
<h2>Problem Description:<a class="headerlink" href="#problem-description" title="Link to this heading">#</a></h2>
<p>Simulate a 14.6 Ah lithium-ion battery with a LiMn₂O₄ cathode and graphite anode using
the Multi-Scale Multi-Domain (MSMD) battery model in Ansys Fluent. Evaluate the battery’s
electrochemical and thermal performance under various discharge rates (e.g., 0.5C, 1C, 5C)
and operating conditions, including normal operation, pulse discharge, and short-circuit
scenarios. Key outputs include voltage, temperature, and state of charge.</p>
<img alt="Single Battery Cell Model" class="align-center" src="../../_images/Single_Battery_cell_model.png" />
</section>
<section id="import-modules">
<h2>Import modules<a class="headerlink" href="#import-modules" title="Link to this heading">#</a></h2>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">ansys.fluent.core</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pyfluent</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ansys.fluent.core</span><span class="w"> </span><span class="kn">import</span> <span class="n">FluentMode</span><span class="p">,</span> <span class="n">Precision</span><span class="p">,</span> <span class="n">examples</span>
</pre></div>
</div>
</section>
<section id="launch-fluent-session">
<h2>Launch Fluent session<a class="headerlink" href="#launch-fluent-session" title="Link to this heading">#</a></h2>
<p>Launch a Fluent solver session with required parameters</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">solver</span> <span class="o">=</span> <span class="n">pyfluent</span><span class="o">.</span><span class="n">launch_fluent</span><span class="p">(</span>
    <span class="n">precision</span><span class="o">=</span><span class="n">Precision</span><span class="o">.</span><span class="n">DOUBLE</span><span class="p">,</span> <span class="n">processor_count</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="n">FluentMode</span><span class="o">.</span><span class="n">SOLVER</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
<section id="download-the-mesh-file">
<h2>Download the mesh file<a class="headerlink" href="#download-the-mesh-file" title="Link to this heading">#</a></h2>
<p>Download the battery mesh file and save it to the current working directory.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">unit_battery_mesh</span> <span class="o">=</span> <span class="n">examples</span><span class="o">.</span><span class="n">download_file</span><span class="p">(</span>
    <span class="s2">&quot;unit_battery.msh.h5&quot;</span><span class="p">,</span>
    <span class="s2">&quot;pyfluent/battery_thermal_simulation&quot;</span><span class="p">,</span>
    <span class="n">save_path</span><span class="o">=</span><a href="https://docs.python.org/3/library/os.html#os.getcwd" title="os.getcwd" class="sphx-glr-backref-module-os sphx-glr-backref-type-py-function"><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span></a><span class="p">(),</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
<section id="read-and-display-mesh">
<h2>Read and display mesh<a class="headerlink" href="#read-and-display-mesh" title="Link to this heading">#</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Graphics commands like restore_view and save_picture require GUI mode.</p>
</div>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">read_case</span><span class="p">(</span><span class="n">file_name</span><span class="o">=</span><span class="n">unit_battery_mesh</span><span class="p">)</span>

<span class="c1"># Get all the available wall boundary surfaces</span>
<span class="n">all_walls</span> <span class="o">=</span> <span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">setup</span><span class="o">.</span><span class="n">boundary_conditions</span><span class="o">.</span><span class="n">wall</span><span class="o">.</span><span class="n">get_object_names</span><span class="p">()</span>
<span class="n">mesh_object</span> <span class="o">=</span> <span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">graphics</span><span class="o">.</span><span class="n">mesh</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="s2">&quot;mesh-1&quot;</span><span class="p">)</span>
<span class="n">mesh_object</span><span class="o">.</span><span class="n">surfaces_list</span> <span class="o">=</span> <span class="n">all_walls</span>
<span class="n">mesh_object</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">edges</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">mesh_object</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>

<span class="n">graphics_object</span> <span class="o">=</span> <span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">graphics</span>
<span class="n">graphics_object</span><span class="o">.</span><span class="n">picture</span><span class="o">.</span><span class="n">x_resolution</span> <span class="o">=</span> <span class="mi">650</span>
<span class="n">graphics_object</span><span class="o">.</span><span class="n">picture</span><span class="o">.</span><span class="n">y_resolution</span> <span class="o">=</span> <span class="mi">450</span>
<span class="n">graphics_object</span><span class="o">.</span><span class="n">views</span><span class="o">.</span><span class="n">restore_view</span><span class="p">(</span><span class="n">view_name</span><span class="o">=</span><span class="s2">&quot;isometric&quot;</span><span class="p">)</span>
<span class="n">graphics_object</span><span class="o">.</span><span class="n">picture</span><span class="o">.</span><span class="n">save_picture</span><span class="p">(</span><span class="n">file_name</span><span class="o">=</span><span class="s2">&quot;Single_Battery_Cell_Mesh.png&quot;</span><span class="p">)</span>
</pre></div>
</div>
<img alt="Single Battery Cell Mesh" class="align-center" src="../../_images/Single_Battery_Cell_Mesh.png" />
</section>
<section id="configure-solver-settings-for-battery-model">
<h2>Configure solver settings for battery model<a class="headerlink" href="#configure-solver-settings-for-battery-model" title="Link to this heading">#</a></h2>
<p>Use an unsteady first-order time solver for transient behavior.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">setup</span><span class="o">.</span><span class="n">general</span><span class="o">.</span><span class="n">solver</span><span class="o">.</span><span class="n">time</span> <span class="o">=</span> <span class="s2">&quot;unsteady-1st-order&quot;</span>
</pre></div>
</div>
</section>
<section id="enable-the-battery-model">
<h2>Enable the battery model<a class="headerlink" href="#enable-the-battery-model" title="Link to this heading">#</a></h2>
<p>Activate the NTGK/DCIR model with a nominal cell capacity of 14.6 Ah.
Enable Joule heat in passive zones and define zones and terminals.
For a detailed guide on setting up a single battery cell,refer to the <a class="reference internal" href="#reference">Reference</a> [3].</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">battery</span> <span class="o">=</span> <span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">setup</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">battery</span>
<span class="n">battery</span><span class="o">.</span><span class="n">enabled</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">battery</span><span class="o">.</span><span class="n">echem_model</span> <span class="o">=</span> <span class="s2">&quot;ntgk/dcir&quot;</span>
<span class="n">battery</span><span class="o">.</span><span class="n">zone_assignment</span><span class="o">.</span><span class="n">active_zone</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;e_zone&quot;</span><span class="p">]</span>
<span class="n">battery</span><span class="o">.</span><span class="n">zone_assignment</span><span class="o">.</span><span class="n">passive_zone</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;tab_nzone&quot;</span><span class="p">,</span> <span class="s2">&quot;tab_pzone&quot;</span><span class="p">]</span>
<span class="n">battery</span><span class="o">.</span><span class="n">zone_assignment</span><span class="o">.</span><span class="n">negative_tab</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;tab_n&quot;</span><span class="p">]</span>
<span class="n">battery</span><span class="o">.</span><span class="n">zone_assignment</span><span class="o">.</span><span class="n">positive_tab</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;tab_p&quot;</span><span class="p">]</span>
</pre></div>
</div>
</section>
<section id="define-materials-for-cell-and-tabs">
<h2>Define materials for cell and tabs<a class="headerlink" href="#define-materials-for-cell-and-tabs" title="Link to this heading">#</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Chemical formula values are arbitrary identifiers for demonstration.</p>
</div>
<p>Material definition for battery cell, positive tab and negative tab. User define
scalars are defined for e-material and positive material to specify the
electric conductivity with <code class="docutils literal notranslate"><span class="pre">defined-per-uds</span></code> and <code class="docutils literal notranslate"><span class="pre">constant</span></code> option respectively.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">materials</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;e_material&quot;</span><span class="p">,</span>
        <span class="s2">&quot;chemical_formula&quot;</span><span class="p">:</span> <span class="s2">&quot;e&quot;</span><span class="p">,</span>
        <span class="s2">&quot;density&quot;</span><span class="p">:</span> <span class="mi">2092</span><span class="p">,</span>
        <span class="s2">&quot;specific_heat&quot;</span><span class="p">:</span> <span class="mi">678</span><span class="p">,</span>
        <span class="s2">&quot;thermal_conductivity&quot;</span><span class="p">:</span> <span class="mf">18.2</span><span class="p">,</span>
        <span class="s2">&quot;uds_diffusivity&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;defined-per-uds&quot;</span><span class="p">,</span>
            <span class="s2">&quot;uds-0&quot;</span><span class="p">:</span> <span class="mi">1190000</span><span class="p">,</span>
            <span class="s2">&quot;uds-1&quot;</span><span class="p">:</span> <span class="mi">983000</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;p_material&quot;</span><span class="p">,</span>
        <span class="s2">&quot;chemical_formula&quot;</span><span class="p">:</span> <span class="s2">&quot;pmat&quot;</span><span class="p">,</span>
        <span class="s2">&quot;density&quot;</span><span class="p">:</span> <span class="mi">8978</span><span class="p">,</span>
        <span class="s2">&quot;specific_heat&quot;</span><span class="p">:</span> <span class="mi">381</span><span class="p">,</span>
        <span class="s2">&quot;thermal_conductivity&quot;</span><span class="p">:</span> <span class="mf">387.6</span><span class="p">,</span>
        <span class="s2">&quot;uds_diffusivity&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;constant&quot;</span><span class="p">,</span> <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="mi">10000000</span><span class="p">},</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;n_material&quot;</span><span class="p">,</span>
        <span class="s2">&quot;chemical_formula&quot;</span><span class="p">:</span> <span class="s2">&quot;nmat&quot;</span><span class="p">,</span>
        <span class="s2">&quot;density&quot;</span><span class="p">:</span> <span class="mi">8978</span><span class="p">,</span>
        <span class="s2">&quot;specific_heat&quot;</span><span class="p">:</span> <span class="mi">381</span><span class="p">,</span>
        <span class="s2">&quot;thermal_conductivity&quot;</span><span class="p">:</span> <span class="mf">387.6</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">]</span>

<span class="n">solids</span> <span class="o">=</span> <span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">setup</span><span class="o">.</span><span class="n">materials</span><span class="o">.</span><span class="n">solid</span>
<span class="k">for</span> <span class="n">mat</span> <span class="ow">in</span> <span class="n">materials</span><span class="p">:</span>
    <span class="n">solids</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">mat</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">])</span>
    <span class="n">solids</span><span class="p">[</span><span class="n">mat</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">chemical_formula</span> <span class="o">=</span> <span class="n">mat</span><span class="p">[</span><span class="s2">&quot;chemical_formula&quot;</span><span class="p">]</span>
    <span class="n">solids</span><span class="p">[</span><span class="n">mat</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">density</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">mat</span><span class="p">[</span><span class="s2">&quot;density&quot;</span><span class="p">]</span>
    <span class="n">solids</span><span class="p">[</span><span class="n">mat</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">specific_heat</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">mat</span><span class="p">[</span><span class="s2">&quot;specific_heat&quot;</span><span class="p">]</span>
    <span class="n">solids</span><span class="p">[</span><span class="n">mat</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">thermal_conductivity</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">mat</span><span class="p">[</span><span class="s2">&quot;thermal_conductivity&quot;</span><span class="p">]</span>
    <span class="k">if</span> <span class="s2">&quot;uds_diffusivity&quot;</span> <span class="ow">in</span> <span class="n">mat</span><span class="p">:</span>
        <span class="n">solids</span><span class="p">[</span><span class="n">mat</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">uds_diffusivity</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="n">mat</span><span class="p">[</span><span class="s2">&quot;uds_diffusivity&quot;</span><span class="p">][</span><span class="s2">&quot;option&quot;</span><span class="p">]</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="n">mat</span><span class="p">[</span><span class="s2">&quot;uds_diffusivity&quot;</span><span class="p">][</span><span class="s2">&quot;option&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;defined-per-uds&quot;</span><span class="p">:</span>
            <span class="n">solids</span><span class="p">[</span><span class="n">mat</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">uds_diffusivity</span><span class="o">.</span><span class="n">uds_diffusivities</span><span class="p">[</span><span class="s2">&quot;uds-0&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">mat</span><span class="p">[</span>
                <span class="s2">&quot;uds_diffusivity&quot;</span>
            <span class="p">][</span><span class="s2">&quot;uds-0&quot;</span><span class="p">]</span>
            <span class="n">solids</span><span class="p">[</span><span class="n">mat</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">uds_diffusivity</span><span class="o">.</span><span class="n">uds_diffusivities</span><span class="p">[</span><span class="s2">&quot;uds-1&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">mat</span><span class="p">[</span>
                <span class="s2">&quot;uds_diffusivity&quot;</span>
            <span class="p">][</span><span class="s2">&quot;uds-1&quot;</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">solids</span><span class="p">[</span><span class="n">mat</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">uds_diffusivity</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">mat</span><span class="p">[</span><span class="s2">&quot;uds_diffusivity&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]</span>
</pre></div>
</div>
</section>
<section id="assign-materials-to-cell-zones">
<h2>Assign materials to cell zones<a class="headerlink" href="#assign-materials-to-cell-zones" title="Link to this heading">#</a></h2>
<p>Map materials to respective zones.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">cell_zones</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">(</span><span class="s2">&quot;e_zone&quot;</span><span class="p">,</span> <span class="s2">&quot;e_material&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="s2">&quot;tab_nzone&quot;</span><span class="p">,</span> <span class="s2">&quot;n_material&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="s2">&quot;tab_pzone&quot;</span><span class="p">,</span> <span class="s2">&quot;p_material&quot;</span><span class="p">),</span>
<span class="p">]</span>

<span class="k">for</span> <span class="n">zone</span><span class="p">,</span> <span class="n">material</span> <span class="ow">in</span> <span class="n">cell_zones</span><span class="p">:</span>
    <span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">setup</span><span class="o">.</span><span class="n">cell_zone_conditions</span><span class="o">.</span><span class="n">solid</span><span class="p">[</span><span class="n">zone</span><span class="p">]</span><span class="o">.</span><span class="n">general</span><span class="o">.</span><span class="n">material</span> <span class="o">=</span> <span class="n">material</span>
</pre></div>
</div>
</section>
<section id="define-boundary-conditions">
<h2>Define boundary conditions<a class="headerlink" href="#define-boundary-conditions" title="Link to this heading">#</a></h2>
<p>Set convective heat transfer on external surfaces.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">wall</span> <span class="o">=</span> <span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">setup</span><span class="o">.</span><span class="n">boundary_conditions</span><span class="o">.</span><span class="n">wall</span>
<span class="n">wall</span><span class="p">[</span><span class="s2">&quot;wall_active&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">thermal</span><span class="o">.</span><span class="n">thermal_condition</span> <span class="o">=</span> <span class="s2">&quot;Convection&quot;</span>
<span class="n">wall</span><span class="p">[</span><span class="s2">&quot;wall_active&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">thermal</span><span class="o">.</span><span class="n">heat_transfer_coeff</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mi">5</span>

<span class="c1"># API to copy similar boundary condition</span>
<span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">setup</span><span class="o">.</span><span class="n">boundary_conditions</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span>
    <span class="n">from_</span><span class="o">=</span><span class="s2">&quot;wall_active&quot;</span><span class="p">,</span> <span class="n">to</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;wall_n&quot;</span><span class="p">,</span> <span class="s2">&quot;wall_p&quot;</span><span class="p">]</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
<section id="configure-solution-settings">
<h2>Configure solution settings<a class="headerlink" href="#configure-solution-settings" title="Link to this heading">#</a></h2>
<p>Disable flow and turbulence equations, since residual criteria are set to <code class="docutils literal notranslate"><span class="pre">none</span></code></p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">controls</span><span class="o">.</span><span class="n">equations</span><span class="p">[</span><span class="s2">&quot;flow&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">controls</span><span class="o">.</span><span class="n">equations</span><span class="p">[</span><span class="s2">&quot;kw&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>

<span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">monitor</span><span class="o">.</span><span class="n">residual</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">criterion_type</span> <span class="o">=</span> <span class="s2">&quot;none&quot;</span>
</pre></div>
</div>
</section>
<section id="create-report-definitions">
<h2>Create report definitions<a class="headerlink" href="#create-report-definitions" title="Link to this heading">#</a></h2>
<p>Monitor average voltage and maximum temperature.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">avg_surface_voltage_report_def</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">report_definitions</span><span class="o">.</span><span class="n">surface</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="s2">&quot;surface_voltage&quot;</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">avg_surface_voltage_report_def</span><span class="o">.</span><span class="n">report_type</span> <span class="o">=</span> <span class="s2">&quot;surface-areaavg&quot;</span>
<span class="n">avg_surface_voltage_report_def</span><span class="o">.</span><span class="n">field</span> <span class="o">=</span> <span class="s2">&quot;passive-zone-potential&quot;</span>
<span class="n">avg_surface_voltage_report_def</span><span class="o">.</span><span class="n">surface_names</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;tab_p&quot;</span><span class="p">]</span>

<span class="n">max_temp_report_def</span> <span class="o">=</span> <span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">report_definitions</span><span class="o">.</span><span class="n">volume</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
    <span class="s2">&quot;max_temperature&quot;</span>
<span class="p">)</span>
<span class="n">max_temp_report_def</span><span class="o">.</span><span class="n">report_type</span> <span class="o">=</span> <span class="s2">&quot;volume-max&quot;</span>
<span class="n">max_temp_report_def</span><span class="o">.</span><span class="n">field</span> <span class="o">=</span> <span class="s2">&quot;temperature&quot;</span>
<span class="n">max_temp_report_def</span><span class="o">.</span><span class="n">cell_zones</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;e_zone&quot;</span><span class="p">,</span> <span class="s2">&quot;tab_nzone&quot;</span><span class="p">,</span> <span class="s2">&quot;tab_pzone&quot;</span><span class="p">]</span>

<span class="n">surf_voltage_report_files</span> <span class="o">=</span> <span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">monitor</span><span class="o">.</span><span class="n">report_files</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
    <span class="s2">&quot;surface_voltage_file&quot;</span>
<span class="p">)</span>
<span class="n">surf_voltage_report_files</span><span class="o">.</span><span class="n">report_defs</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;flow-time&quot;</span><span class="p">,</span> <span class="s2">&quot;surface_voltage&quot;</span><span class="p">]</span>
<span class="n">surf_voltage_report_files</span><span class="o">.</span><span class="n">file_name</span> <span class="o">=</span> <span class="s2">&quot;ntgk-1c.out&quot;</span>
<span class="n">surf_voltage_report_files</span><span class="o">.</span><span class="n">print</span> <span class="o">=</span> <span class="kc">True</span>

<span class="n">max_temp_report_file</span> <span class="o">=</span> <span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">monitor</span><span class="o">.</span><span class="n">report_files</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
    <span class="s2">&quot;max_temperature_file&quot;</span>
<span class="p">)</span>
<span class="n">max_temp_report_file</span><span class="o">.</span><span class="n">report_defs</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;max_temperature&quot;</span><span class="p">]</span>
<span class="n">max_temp_report_file</span><span class="o">.</span><span class="n">file_name</span> <span class="o">=</span> <span class="s2">&quot;max-temp-1c.out&quot;</span>
<span class="n">max_temp_report_file</span><span class="o">.</span><span class="n">print</span> <span class="o">=</span> <span class="kc">True</span>

<span class="n">report_plots</span> <span class="o">=</span> <span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">monitor</span><span class="o">.</span><span class="n">report_plots</span>

<span class="n">voltage_plot</span> <span class="o">=</span> <span class="n">report_plots</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="s2">&quot;surface_voltage_plot&quot;</span><span class="p">)</span>
<span class="n">voltage_plot</span><span class="o">.</span><span class="n">report_defs</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;surface_voltage&quot;</span><span class="p">]</span>
<span class="n">voltage_plot</span><span class="o">.</span><span class="n">print</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">voltage_plot</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">x</span><span class="o">.</span><span class="n">number_format</span><span class="o">.</span><span class="n">precision</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">voltage_plot</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">y</span><span class="o">.</span><span class="n">number_format</span><span class="o">.</span><span class="n">precision</span> <span class="o">=</span> <span class="mi">2</span>

<span class="n">temp_plot</span> <span class="o">=</span> <span class="n">report_plots</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="s2">&quot;max_temperature_plot&quot;</span><span class="p">)</span>
<span class="n">temp_plot</span><span class="o">.</span><span class="n">report_defs</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;max_temperature&quot;</span><span class="p">]</span>
<span class="n">temp_plot</span><span class="o">.</span><span class="n">print</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">temp_plot</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">x</span><span class="o">.</span><span class="n">number_format</span><span class="o">.</span><span class="n">precision</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">temp_plot</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">y</span><span class="o">.</span><span class="n">number_format</span><span class="o">.</span><span class="n">precision</span> <span class="o">=</span> <span class="mi">2</span>
</pre></div>
</div>
</section>
<section id="run-the-simulation">
<h2>Run the simulation<a class="headerlink" href="#run-the-simulation" title="Link to this heading">#</a></h2>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">initialization</span><span class="o">.</span><span class="n">standard_initialize</span><span class="p">()</span>
<span class="n">transient_controls</span> <span class="o">=</span> <span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">run_calculation</span><span class="o">.</span><span class="n">transient_controls</span>
<span class="n">transient_controls</span><span class="o">.</span><span class="n">time_step_size</span> <span class="o">=</span> <span class="mi">30</span>
<span class="n">transient_controls</span><span class="o">.</span><span class="n">time_step_count</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">run_calculation</span><span class="o">.</span><span class="n">calculate</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="post-process-results">
<h2>Post-process results<a class="headerlink" href="#post-process-results" title="Link to this heading">#</a></h2>
<p>Generate contour and vector plots.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">contours</span> <span class="o">=</span> <span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">graphics</span><span class="o">.</span><span class="n">contour</span>
<span class="n">contour_list</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;contour-phi+&quot;</span><span class="p">,</span>
        <span class="s2">&quot;field&quot;</span><span class="p">:</span> <span class="s2">&quot;cathode-potential&quot;</span><span class="p">,</span>
        <span class="s2">&quot;surfaces&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;wall_active&quot;</span><span class="p">],</span>
        <span class="s2">&quot;file_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Single_Battery_Cell_1.png&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;contour-phi-&quot;</span><span class="p">,</span>
        <span class="s2">&quot;field&quot;</span><span class="p">:</span> <span class="s2">&quot;anode-potential&quot;</span><span class="p">,</span>
        <span class="s2">&quot;surfaces&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;wall_active&quot;</span><span class="p">],</span>
        <span class="s2">&quot;file_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Single_Battery_Cell_2.png&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;contour-phi-passive&quot;</span><span class="p">,</span>
        <span class="s2">&quot;field&quot;</span><span class="p">:</span> <span class="s2">&quot;passive-zone-potential&quot;</span><span class="p">,</span>
        <span class="s2">&quot;surfaces&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;tab_n&quot;</span><span class="p">,</span> <span class="s2">&quot;tab_p&quot;</span><span class="p">,</span> <span class="s2">&quot;wall_n&quot;</span><span class="p">,</span> <span class="s2">&quot;wall_p&quot;</span><span class="p">],</span>
        <span class="s2">&quot;file_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Single_Battery_Cell_3.png&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;contour-temp&quot;</span><span class="p">,</span>
        <span class="s2">&quot;field&quot;</span><span class="p">:</span> <span class="s2">&quot;temperature&quot;</span><span class="p">,</span>
        <span class="s2">&quot;surfaces&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;wall_p&quot;</span><span class="p">,</span> <span class="s2">&quot;wall_active&quot;</span><span class="p">,</span> <span class="s2">&quot;tab_p&quot;</span><span class="p">,</span> <span class="s2">&quot;tab_n&quot;</span><span class="p">,</span> <span class="s2">&quot;wall_n&quot;</span><span class="p">],</span>
        <span class="s2">&quot;file_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Single_Battery_Cell_4.png&quot;</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">]</span>

<span class="c1"># Create, display, and save contour plots</span>
<span class="k">for</span> <span class="n">contour</span> <span class="ow">in</span> <span class="n">contour_list</span><span class="p">:</span>
    <span class="c1"># Create the contour</span>
    <span class="n">contours</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">contour</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">])</span>
    <span class="n">current</span> <span class="o">=</span> <span class="n">contours</span><span class="p">[</span><span class="n">contour</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]]</span>
    <span class="n">current</span><span class="o">.</span><span class="n">field</span> <span class="o">=</span> <span class="n">contour</span><span class="p">[</span><span class="s2">&quot;field&quot;</span><span class="p">]</span>
    <span class="n">current</span><span class="o">.</span><span class="n">surfaces_list</span> <span class="o">=</span> <span class="n">contour</span><span class="p">[</span><span class="s2">&quot;surfaces&quot;</span><span class="p">]</span>
    <span class="n">current</span><span class="o">.</span><span class="n">range_options</span><span class="o">.</span><span class="n">compute</span><span class="p">()</span>

    <span class="c1"># Set the  view</span>
    <span class="n">graphics_object</span><span class="o">.</span><span class="n">views</span><span class="o">.</span><span class="n">restore_view</span><span class="p">(</span><span class="n">view_name</span><span class="o">=</span><span class="s2">&quot;front&quot;</span><span class="p">)</span>
    <span class="c1">#  display the  current contour</span>
    <span class="n">current</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
    <span class="c1"># Save the contour plot as an image</span>
    <span class="n">graphics_object</span><span class="o">.</span><span class="n">picture</span><span class="o">.</span><span class="n">save_picture</span><span class="p">(</span><span class="n">file_name</span><span class="o">=</span><span class="n">contour</span><span class="p">[</span><span class="s2">&quot;file_name&quot;</span><span class="p">])</span>

<span class="c1"># Create and configure vector plot</span>
<span class="n">vector_plot</span> <span class="o">=</span> <span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">graphics</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="s2">&quot;vector-current_density&quot;</span><span class="p">)</span>
<span class="n">vector_plot</span><span class="o">.</span><span class="n">vector_field</span> <span class="o">=</span> <span class="s2">&quot;current-density-j&quot;</span>
<span class="n">vector_plot</span><span class="o">.</span><span class="n">field</span> <span class="o">=</span> <span class="s2">&quot;current-magnitude&quot;</span>
<span class="n">vector_plot</span><span class="o">.</span><span class="n">surfaces_list</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;wall_n&quot;</span><span class="p">,</span> <span class="s2">&quot;wall_p&quot;</span><span class="p">,</span> <span class="s2">&quot;wall_active&quot;</span><span class="p">,</span> <span class="s2">&quot;tab_n&quot;</span><span class="p">,</span> <span class="s2">&quot;tab_p&quot;</span><span class="p">]</span>
<span class="n">vector_plot</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">vector_style</span> <span class="o">=</span> <span class="s2">&quot;arrow&quot;</span>
<span class="n">vector_plot</span><span class="o">.</span><span class="n">range_options</span><span class="o">.</span><span class="n">compute</span><span class="p">()</span>
<span class="c1"># Set view, display, and save the vector plot image</span>
<span class="n">graphics_object</span><span class="o">.</span><span class="n">views</span><span class="o">.</span><span class="n">restore_view</span><span class="p">(</span><span class="n">view_name</span><span class="o">=</span><span class="s2">&quot;front&quot;</span><span class="p">)</span>
<span class="n">vector_plot</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="n">graphics_object</span><span class="o">.</span><span class="n">picture</span><span class="o">.</span><span class="n">save_picture</span><span class="p">(</span><span class="n">file_name</span><span class="o">=</span><span class="s2">&quot;Single_Battery_Cell_5.png&quot;</span><span class="p">)</span>
<span class="c1"># Save case file for ROM simulation</span>
<span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">write_case</span><span class="p">(</span><span class="n">file_name</span><span class="o">=</span><span class="s2">&quot;unit_battery.cas.h5&quot;</span><span class="p">)</span>
<span class="c1"># Save case and data for short circuit simulation</span>
<span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">write_case_data</span><span class="p">(</span><span class="n">file_name</span><span class="o">=</span><span class="s2">&quot;ntgk&quot;</span><span class="p">)</span>  <span class="c1"># Save case data</span>
</pre></div>
</div>
<img alt="Anode Potential Contour(1C)" class="align-center" src="../../_images/Single_Battery_Cell_1.png" />
<img alt="Cathode Potential Contour(1C)" class="align-center" src="../../_images/Single_Battery_Cell_2.png" />
<img alt="Passive Zone Potential Contour(1C)" class="align-center" src="../../_images/Single_Battery_Cell_3.png" />
<img alt="Static Temperature Contour(1C)" class="align-center" src="../../_images/Single_Battery_Cell_4.png" />
<img alt="Current Density Vector(1C)" class="align-center" src="../../_images/Single_Battery_Cell_5.png" />
</section>
<section id="run-simulations-at-different-c-rates">
<h2>Run simulations at different C-rates<a class="headerlink" href="#run-simulations-at-different-c-rates" title="Link to this heading">#</a></h2>
<p>Simulate at 0.5C and 5C discharge rates with adjusted time steps.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">setup</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">battery</span><span class="o">.</span><span class="n">eload_condition</span><span class="o">.</span><span class="n">eload_settings</span><span class="o">.</span><span class="n">crate_value</span> <span class="o">=</span> <span class="mf">0.5</span>

<span class="c1"># Get report files</span>
<span class="n">report_files</span> <span class="o">=</span> <span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">monitor</span><span class="o">.</span><span class="n">report_files</span>

<span class="c1"># Update report file names for 0.5 c rate simulation for existing report files</span>
<span class="n">report_files</span><span class="p">[</span><span class="s2">&quot;surface_voltage_file&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">file_name</span> <span class="o">=</span> <span class="s2">&quot;ntgk-0.5c.out&quot;</span>
<span class="n">report_files</span><span class="p">[</span><span class="s2">&quot;max_temperature_file&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">file_name</span> <span class="o">=</span> <span class="s2">&quot;max-temp-0.5c.out&quot;</span>
<span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">initialization</span><span class="o">.</span><span class="n">standard_initialize</span><span class="p">()</span>
<span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">run_calculation</span><span class="o">.</span><span class="n">transient_controls</span><span class="o">.</span><span class="n">time_step_count</span> <span class="o">=</span> <span class="mi">230</span>
<span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">run_calculation</span><span class="o">.</span><span class="n">calculate</span><span class="p">()</span>

<span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">setup</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">battery</span><span class="o">.</span><span class="n">eload_condition</span><span class="o">.</span><span class="n">eload_settings</span><span class="o">.</span><span class="n">crate_value</span> <span class="o">=</span> <span class="mi">5</span>

<span class="c1"># Update report file names for 5 c rate simulation for existing report files</span>
<span class="n">report_files</span><span class="p">[</span><span class="s2">&quot;surface_voltage_file&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">file_name</span> <span class="o">=</span> <span class="s2">&quot;ntgk-5c.out&quot;</span>
<span class="n">report_files</span><span class="p">[</span><span class="s2">&quot;max_temperature_file&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">file_name</span> <span class="o">=</span> <span class="s2">&quot;max-temp-5c.out&quot;</span>
<span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">initialization</span><span class="o">.</span><span class="n">standard_initialize</span><span class="p">()</span>
<span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">run_calculation</span><span class="o">.</span><span class="n">transient_controls</span><span class="o">.</span><span class="n">time_step_count</span> <span class="o">=</span> <span class="mi">23</span>
<span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">run_calculation</span><span class="o">.</span><span class="n">calculate</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="reduced-order-method-rom-setup">
<h2>Reduced Order Method (ROM) setup<a class="headerlink" href="#reduced-order-method-rom-setup" title="Link to this heading">#</a></h2>
<p>Apply ROM for computational efficiency.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">read_case</span><span class="p">(</span><span class="n">file_name</span><span class="o">=</span><span class="s2">&quot;unit_battery.cas.h5&quot;</span><span class="p">)</span>
<span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">initialization</span><span class="o">.</span><span class="n">standard_initialize</span><span class="p">()</span>
<span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">run_calculation</span><span class="o">.</span><span class="n">transient_controls</span><span class="o">.</span><span class="n">time_step_size</span> <span class="o">=</span> <span class="mi">30</span>
<span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">run_calculation</span><span class="o">.</span><span class="n">transient_controls</span><span class="o">.</span><span class="n">time_step_count</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">run_calculation</span><span class="o">.</span><span class="n">calculate</span><span class="p">()</span>

<span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">setup</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">battery</span><span class="o">.</span><span class="n">solution_method</span> <span class="o">=</span> <span class="s2">&quot;msmd-rom&quot;</span>
<span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">setup</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">battery</span><span class="o">.</span><span class="n">solution_option</span><span class="o">.</span><span class="n">option_settings</span><span class="o">.</span><span class="n">number_substeps</span> <span class="o">=</span> <span class="p">(</span>
    <span class="mi">10</span>
<span class="p">)</span>
<span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">run_calculation</span><span class="o">.</span><span class="n">transient_controls</span><span class="o">.</span><span class="n">time_step_size</span> <span class="o">=</span> <span class="mi">30</span>
<span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">run_calculation</span><span class="o">.</span><span class="n">transient_controls</span><span class="o">.</span><span class="n">time_step_count</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">run_calculation</span><span class="o">.</span><span class="n">calculate</span><span class="p">()</span>

<span class="c1"># Generate contour and vector plots for ROM results.</span>
<span class="n">contours</span> <span class="o">=</span> <span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">graphics</span><span class="o">.</span><span class="n">contour</span>
<span class="n">contour_list</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;contour_cathode_potential&quot;</span><span class="p">,</span>
        <span class="s2">&quot;field&quot;</span><span class="p">:</span> <span class="s2">&quot;cathode-potential&quot;</span><span class="p">,</span>
        <span class="s2">&quot;surfaces&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;wall_active&quot;</span><span class="p">],</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;contour_anode_potential&quot;</span><span class="p">,</span>
        <span class="s2">&quot;field&quot;</span><span class="p">:</span> <span class="s2">&quot;anode-potential&quot;</span><span class="p">,</span>
        <span class="s2">&quot;surfaces&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;wall_active&quot;</span><span class="p">],</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;contour_passive_potential&quot;</span><span class="p">,</span>
        <span class="s2">&quot;field&quot;</span><span class="p">:</span> <span class="s2">&quot;passive-zone-potential&quot;</span><span class="p">,</span>
        <span class="s2">&quot;surfaces&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;tab_n&quot;</span><span class="p">,</span> <span class="s2">&quot;tab_p&quot;</span><span class="p">,</span> <span class="s2">&quot;wall_n&quot;</span><span class="p">,</span> <span class="s2">&quot;wall_p&quot;</span><span class="p">],</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;contour_temperature&quot;</span><span class="p">,</span>
        <span class="s2">&quot;field&quot;</span><span class="p">:</span> <span class="s2">&quot;temperature&quot;</span><span class="p">,</span>
        <span class="s2">&quot;surfaces&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;wall_p&quot;</span><span class="p">,</span> <span class="s2">&quot;wall_active&quot;</span><span class="p">,</span> <span class="s2">&quot;tab_p&quot;</span><span class="p">,</span> <span class="s2">&quot;tab_n&quot;</span><span class="p">,</span> <span class="s2">&quot;wall_n&quot;</span><span class="p">],</span>
    <span class="p">},</span>
<span class="p">]</span>

<span class="k">for</span> <span class="n">contour</span> <span class="ow">in</span> <span class="n">contour_list</span><span class="p">:</span>
    <span class="n">contours</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">contour</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">])</span>
    <span class="n">contours</span><span class="p">[</span><span class="n">contour</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">field</span> <span class="o">=</span> <span class="n">contour</span><span class="p">[</span><span class="s2">&quot;field&quot;</span><span class="p">]</span>
    <span class="n">contours</span><span class="p">[</span><span class="n">contour</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">surfaces_list</span> <span class="o">=</span> <span class="n">contour</span><span class="p">[</span><span class="s2">&quot;surfaces&quot;</span><span class="p">]</span>
    <span class="n">contours</span><span class="p">[</span><span class="n">contour</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">range_options</span><span class="o">.</span><span class="n">compute</span><span class="p">()</span>

<span class="n">vectors</span> <span class="o">=</span> <span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">graphics</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="s2">&quot;vector-current_density&quot;</span><span class="p">)</span>
<span class="n">vectors</span><span class="o">.</span><span class="n">vector_field</span> <span class="o">=</span> <span class="s2">&quot;current-density-j&quot;</span>
<span class="n">vectors</span><span class="o">.</span><span class="n">field</span> <span class="o">=</span> <span class="s2">&quot;current-magnitude&quot;</span>
<span class="n">vectors</span><span class="o">.</span><span class="n">surfaces_list</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;wall_n&quot;</span><span class="p">,</span>
    <span class="s2">&quot;wall_p&quot;</span><span class="p">,</span>
    <span class="s2">&quot;wall_active&quot;</span><span class="p">,</span>
    <span class="s2">&quot;tab_n&quot;</span><span class="p">,</span>
    <span class="s2">&quot;tab_p&quot;</span><span class="p">,</span>
<span class="p">]</span>
<span class="n">vectors</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">vector_style</span> <span class="o">=</span> <span class="s2">&quot;arrow&quot;</span>
<span class="n">vectors</span><span class="o">.</span><span class="n">range_options</span><span class="o">.</span><span class="n">compute</span><span class="p">()</span>

<span class="c1"># Set view, display, and save the vector plot image</span>
<span class="n">graphics_object</span><span class="o">.</span><span class="n">views</span><span class="o">.</span><span class="n">restore_view</span><span class="p">(</span><span class="n">view_name</span><span class="o">=</span><span class="s2">&quot;front&quot;</span><span class="p">)</span>
<span class="n">vectors</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="n">graphics_object</span><span class="o">.</span><span class="n">picture</span><span class="o">.</span><span class="n">save_picture</span><span class="p">(</span><span class="n">file_name</span><span class="o">=</span><span class="s2">&quot;Single_Battery_Cell_6.png&quot;</span><span class="p">)</span>
</pre></div>
</div>
<img alt="Current Magnitude (1C)" class="align-center" src="../../_images/Single_Battery_Cell_6.png" />
<p>Vector current density for ROM model (faster with identical results).</p>
</section>
<section id="simulate-short-circuit">
<h2>Simulate short-circuit<a class="headerlink" href="#simulate-short-circuit" title="Link to this heading">#</a></h2>
<p>Apply low external resistance and define a short-circuit region.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">read_case</span><span class="p">(</span><span class="n">file_name</span><span class="o">=</span><span class="s2">&quot;ntgk.cas.h5&quot;</span><span class="p">)</span>

<span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">setup</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">battery</span><span class="o">.</span><span class="n">eload_condition</span><span class="o">.</span><span class="n">eload_settings</span><span class="o">.</span><span class="n">eload_type</span> <span class="o">=</span> <span class="p">(</span>
    <span class="s2">&quot;specified-resistance&quot;</span>
<span class="p">)</span>
<span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">setup</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">battery</span><span class="o">.</span><span class="n">eload_condition</span><span class="o">.</span><span class="n">eload_settings</span><span class="o">.</span><span class="n">external_resistance</span> <span class="o">=</span> <span class="p">(</span>
    <span class="mf">0.5</span>
<span class="p">)</span>

<span class="c1"># Create a new cell register named &quot;register_patch&quot;</span>
<span class="n">patch</span> <span class="o">=</span> <span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">cell_registers</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;register_patch&quot;</span><span class="p">)</span>
<span class="n">patch</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">option</span> <span class="o">=</span> <span class="s2">&quot;hexahedron&quot;</span>

<span class="c1"># Configure the hexahedron box</span>
<span class="n">patch</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">hexahedron</span><span class="o">.</span><span class="n">inside</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">patch</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">hexahedron</span><span class="o">.</span><span class="n">min_point</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mf">0.01</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.01</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">]</span>
<span class="n">patch</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">hexahedron</span><span class="o">.</span><span class="n">max_point</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.01</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]</span>

<span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">initialization</span><span class="o">.</span><span class="n">standard_initialize</span><span class="p">()</span>

<span class="c1"># Patch initialization</span>
<span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">initialization</span><span class="o">.</span><span class="n">patch</span><span class="o">.</span><span class="n">calculate_patch</span><span class="p">(</span>
    <span class="n">domain</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">cell_zones</span><span class="o">=</span><span class="p">[],</span>
    <span class="n">registers</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;register_patch&quot;</span><span class="p">],</span>
    <span class="n">variable</span><span class="o">=</span><span class="s2">&quot;battery-short-resistance&quot;</span><span class="p">,</span>
    <span class="n">reference_frame</span><span class="o">=</span><span class="s2">&quot;Relative to Cell Zone&quot;</span><span class="p">,</span>
    <span class="n">use_custom_field_function</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">custom_field_function_name</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">value</span><span class="o">=</span><span class="mf">5e-07</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">run_calculation</span><span class="o">.</span><span class="n">transient_controls</span><span class="o">.</span><span class="n">time_step_size</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">run_calculation</span><span class="o">.</span><span class="n">transient_controls</span><span class="o">.</span><span class="n">time_step_count</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">run_calculation</span><span class="o">.</span><span class="n">calculate</span><span class="p">()</span>

<span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">write_case_data</span><span class="p">(</span><span class="n">file_name</span><span class="o">=</span><span class="s2">&quot;ntgk_short_circuit.cas.h5&quot;</span><span class="p">)</span>

<span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">report</span><span class="o">.</span><span class="n">surface_integrals</span><span class="o">.</span><span class="n">area_weighted_avg</span><span class="p">(</span>
    <span class="n">report_of</span><span class="o">=</span><span class="s2">&quot;passive-zone-potential&quot;</span><span class="p">,</span> <span class="n">surface_names</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;tab_p&quot;</span><span class="p">],</span> <span class="n">write_to_file</span><span class="o">=</span><span class="kc">False</span>
<span class="p">)</span>
<span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">report</span><span class="o">.</span><span class="n">volume_integrals</span><span class="o">.</span><span class="n">volume_integral</span><span class="p">(</span>
    <span class="n">cell_function</span><span class="o">=</span><span class="s2">&quot;total-current-source&quot;</span><span class="p">,</span> <span class="n">cell_zones</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;e_zone&quot;</span><span class="p">],</span> <span class="n">write_to_file</span><span class="o">=</span><span class="kc">False</span>
<span class="p">)</span>

<span class="n">vector</span> <span class="o">=</span> <span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">graphics</span><span class="o">.</span><span class="n">vector</span>
<span class="n">vector_negative</span> <span class="o">=</span> <span class="n">vector</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="s2">&quot;vector_negative_current&quot;</span><span class="p">)</span>
<span class="n">vector_negative</span><span class="o">.</span><span class="n">vector_field</span> <span class="o">=</span> <span class="s2">&quot;current-density-jn&quot;</span>
<span class="n">vector_negative</span><span class="o">.</span><span class="n">field</span> <span class="o">=</span> <span class="s2">&quot;current-magnitude&quot;</span>
<span class="n">vector_negative</span><span class="o">.</span><span class="n">surfaces_list</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;wall_n&quot;</span><span class="p">,</span>
    <span class="s2">&quot;wall_p&quot;</span><span class="p">,</span>
    <span class="s2">&quot;wall_active&quot;</span><span class="p">,</span>
<span class="p">]</span>
<span class="n">vector_negative</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">vector_style</span> <span class="o">=</span> <span class="s2">&quot;arrow&quot;</span>
<span class="n">vector_negative</span><span class="o">.</span><span class="n">range_options</span><span class="o">.</span><span class="n">compute</span><span class="p">()</span>
<span class="n">graphics_object</span><span class="o">.</span><span class="n">views</span><span class="o">.</span><span class="n">restore_view</span><span class="p">(</span><span class="n">view_name</span><span class="o">=</span><span class="s2">&quot;front&quot;</span><span class="p">)</span>
<span class="n">vector_negative</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="n">graphics_object</span><span class="o">.</span><span class="n">picture</span><span class="o">.</span><span class="n">save_picture</span><span class="p">(</span><span class="n">file_name</span><span class="o">=</span><span class="s2">&quot;Single_Battery_Cell_9.png&quot;</span><span class="p">)</span>
</pre></div>
</div>
<img alt="Negative Current Vector Plot" class="align-center" src="../../_images/Single_Battery_Cell_9.png" />
<p>Negative current vector plot after short circuit.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">vector_positive</span> <span class="o">=</span> <span class="n">vector</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="s2">&quot;vector_positive_current&quot;</span><span class="p">)</span>
<span class="n">vector_positive</span><span class="o">.</span><span class="n">vector_field</span> <span class="o">=</span> <span class="s2">&quot;current-density-jp&quot;</span>
<span class="n">vector_positive</span><span class="o">.</span><span class="n">field</span> <span class="o">=</span> <span class="s2">&quot;current-magnitude&quot;</span>
<span class="n">vector_positive</span><span class="o">.</span><span class="n">surfaces_list</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;wall_n&quot;</span><span class="p">,</span>
    <span class="s2">&quot;wall_p&quot;</span><span class="p">,</span>
    <span class="s2">&quot;wall_active&quot;</span><span class="p">,</span>
<span class="p">]</span>
<span class="n">vector_positive</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">vector_style</span> <span class="o">=</span> <span class="s2">&quot;arrow&quot;</span>
<span class="n">vector_positive</span><span class="o">.</span><span class="n">range_options</span><span class="o">.</span><span class="n">compute</span><span class="p">()</span>

<span class="n">graphics_object</span><span class="o">.</span><span class="n">views</span><span class="o">.</span><span class="n">restore_view</span><span class="p">(</span><span class="n">view_name</span><span class="o">=</span><span class="s2">&quot;front&quot;</span><span class="p">)</span>
<span class="n">vector_positive</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="n">graphics_object</span><span class="o">.</span><span class="n">picture</span><span class="o">.</span><span class="n">save_picture</span><span class="p">(</span><span class="n">file_name</span><span class="o">=</span><span class="s2">&quot;Single_Battery_Cell_10.png&quot;</span><span class="p">)</span>
</pre></div>
</div>
<img alt="Positive Current Vector Plot" class="align-center" src="../../_images/Single_Battery_Cell_10.png" />
<p>Positive current vector plot after short circuit.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">temp_contour</span> <span class="o">=</span> <span class="n">solver</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">graphics</span><span class="o">.</span><span class="n">contour</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="s2">&quot;temperature-contour&quot;</span><span class="p">)</span>
<span class="n">temp_contour</span><span class="o">.</span><span class="n">field</span> <span class="o">=</span> <span class="s2">&quot;temperature&quot;</span>
<span class="n">temp_contour</span><span class="o">.</span><span class="n">surfaces_list</span> <span class="o">=</span> <span class="n">all_walls</span>
<span class="n">temp_contour</span><span class="o">.</span><span class="n">range_options</span><span class="o">.</span><span class="n">compute</span><span class="p">()</span>

<span class="n">graphics_object</span><span class="o">.</span><span class="n">views</span><span class="o">.</span><span class="n">restore_view</span><span class="p">(</span><span class="n">view_name</span><span class="o">=</span><span class="s2">&quot;front&quot;</span><span class="p">)</span>
<span class="n">temp_contour</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="n">graphics_object</span><span class="o">.</span><span class="n">picture</span><span class="o">.</span><span class="n">save_picture</span><span class="p">(</span><span class="n">file_name</span><span class="o">=</span><span class="s2">&quot;Single_Battery_Cell_11.png&quot;</span><span class="p">)</span>
</pre></div>
</div>
<img alt="Temperature Contour" class="align-center" src="../../_images/Single_Battery_Cell_11.png" />
<p>Temperature contour plot after short circuit.</p>
</section>
<section id="close-the-solver">
<h2>Close the solver<a class="headerlink" href="#close-the-solver" title="Link to this heading">#</a></h2>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">solver</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="references">
<h2>References:<a class="headerlink" href="#references" title="Link to this heading">#</a></h2>
<p>[1] U. S. Kim et al, “Effect of electrode configuration on the thermal behavior of
a lithium-polymer battery”, Journal of Power Sources, Volume 180 (2), pages 909-916, 2008.</p>
<p>[2] U. S. Kim, et al., “Modeling the Dependence of the Discharge Behavior of a Lithium-Ion Battery
on the Environmental Temperature”, J. of Electrochemical Soc., Volume 158 (5), pages A611-A618, 2011.</p>
<p id="reference">[3] Simulating a Single Battery Cell Using the MSMD Battery Model, <a class="reference external" href="https://ansyshelp.ansys.com/public/account/secured?returnurl=/Views/Secured/corp/v252/en/flu_tg/flu_bat_tutorial_cell.html">Ansys Fluent documentation​</a>.</p>
<div class="sphx-glr-footer sphx-glr-footer-example docutils container" id="sphx-glr-download-examples-00-fluent-single-battery-cell-workflow-py">
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/c9870cee959cbf692c0d30c4eb24d757/single_battery_cell_workflow.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">single_battery_cell_workflow.ipynb</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/52dfe928643b69430d8b3728d2275bc7/single_battery_cell_workflow.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">single_battery_cell_workflow.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-zip docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/c608ebfe55650bdb489d565eddc71b55/single_battery_cell_workflow.zip"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">zipped:</span> <span class="pre">single_battery_cell_workflow.zip</span></code></a></p>
</div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.github.io">Gallery generated by Sphinx-Gallery</a></p>
</section>
</section>


                </article>
              
              
              
              
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#problem-description">Problem Description:</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#import-modules">Import modules</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#launch-fluent-session">Launch Fluent session</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#download-the-mesh-file">Download the mesh file</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#read-and-display-mesh">Read and display mesh</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#configure-solver-settings-for-battery-model">Configure solver settings for battery model</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#enable-the-battery-model">Enable the battery model</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#define-materials-for-cell-and-tabs">Define materials for cell and tabs</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#assign-materials-to-cell-zones">Assign materials to cell zones</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#define-boundary-conditions">Define boundary conditions</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#configure-solution-settings">Configure solution settings</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#create-report-definitions">Create report definitions</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#run-the-simulation">Run the simulation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#post-process-results">Post-process results</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#run-simulations-at-different-c-rates">Run simulations at different C-rates</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#reduced-order-method-rom-setup">Reduced Order Method (ROM) setup</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#simulate-short-circuit">Simulate short-circuit</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#close-the-solver">Close the solver</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#references">References:</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">
<!-- If there is no fix edit button function, use the PyData edit-this-button-->
</div>

  <div class="sidebar-secondary-item">
  <div role="note" aria-label="source link">
    <ul class="this-page-menu">
      <li><a href="../../_sources/examples/00-fluent/single_battery_cell_workflow.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>


  <!-- Include desired assets -->
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.7/require.min.js"></script>

<script>
// Passing the search options to the search.js file
const SEARCH_OPTIONS = JSON.parse('{"keys": ["title", "text", "objectID"], "limit": 10, "threshold": 0.2}');
const SEARCH_FILE = "../../_static/search.json";
const ADVANCE_SEARCH_PATH = "../../search.html";
const EXTRA_SOURCES = JSON.parse('""');
</script>


<script src="../../_static/js/search.js"></script>

  
  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright (c) 2025 ANSYS, Inc. All rights reserved.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.1.3.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item"><p class="theme-version">
  Built with the
  <a href="https://sphinxdocs.ansys.com/version/stable/index.html"
    >Ansys Sphinx Theme</a
  >
  1.6.3. <br />Last updated on
  <span id="ast_build_date"></span>
</p>
<script>
  var options = { day: "numeric", month: "long", year: "numeric" };
  var ast_lastModifiedDate = new Date(document.lastModified);
  var ast_build_date = ast_lastModifiedDate.toLocaleDateString("en-US", options);
  document.getElementById("ast_build_date").innerHTML = ast_build_date;
</script></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>